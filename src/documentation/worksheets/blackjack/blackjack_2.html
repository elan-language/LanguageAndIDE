<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-GB">

  <head>
      <meta http-equiv="Cache-Control" content="no-store" />
      <link href="https://elan-language.github.io/LanguageAndIDE/styles/colourScheme.css" rel="stylesheet" />
      <link href="https://elan-language.github.io/LanguageAndIDE/styles/elanStyle.css" rel="stylesheet" />
      <link href="https://elan-language.github.io/LanguageAndIDE/styles/documentation.css" rel="stylesheet" />
      <link href="https://elan-language.github.io/LanguageAndIDE/styles/worksheet.css" rel="stylesheet" />
      <title>Blackjack 2</title>
  </head>

  <body>
    <div id="worksheet">
    <div class="docTitle">Blackjack 2</div>
    <div class="version" hidden="">1</div>

    <div class="transient">
      <p>First, set the browser to <b>Full Screen</b> view, to give this worksheet and your code as much space as possible.</p>


      <p class="transient">Then choose <i>either one</i> of the two options below:</p>

      <p><b>Option 1: Start this worksheet from scratch</b></p>

      <ul>
        <li>First <label for="username">Enter your name: </label><input class="question" type="text" id="username" /></li>
        <li>Then <button id="auto-save" disabled="">Create and save a new answers file</button>.
        <li>All answers that you subsequently enter/edit will be auto-saved to this sheet.</li>
      </ul>

      <p><b>Option 2: Continue, or view, previous work</b></p>

      <ul>
        <li><button id="load-answers">Load a previously-saved answers file</button></li>
        <li>All answers that you subsequently enter/edit will be auto-saved to this sheet.</li>
        <li>The first time you re-load an answers sheet - within a single session on Elan -
        you will be asked to confirm that you understand this.</li>
      </ul>
    </div>

    <input class="question" type="text" id="postsave-username" disabled=""/>

    <div class="license">
      <img decoding="async" loading="lazy" src="https://mirrors.creativecommons.org/presskit/buttons/88x31/png/by-nc-nd.png" width="118" height="41">
      This worksheet is copyright &copy; Richard Pawson 2025, and protected by the Creative Commons license:
          <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank"> Attribution-NonCommercial-NoDerivatives 4.0 International</a>.
        You may freely make and distribute copies of this worksheet <i>as is</i>, but if you <i>modify</i> this worksheet you may not distribute your modified version (outside your own teaching institution) without the author's permission.
        Please <a href="mailto:rpawson@nakedobjects.org" target="_blank">email the author</a> to report errors or suggest improvements.
    </div> 
      


<div class="step" id="step1"><h1>Step 1: load the starting code</h1>
    <p><button class="load" id="load1-0" data-file="blackjack_2begin.elan">Load the starting code</button></p><div id="code-load1-0" hidden=""># caf30a59cf01cde9df4917e0c3c0bb51ecde503b7bd7bb024fbf018b6a1538d2 Elan 1.9.0 guest default_profile valid

main
  let points be 1000
  variable rounds set to 1
  let game be new Game(points)
  call game.addPlayer(new AutomatedPlayer("Player A", strategyA, points))
  call game.addPlayer(new AutomatedPlayer("Player B", strategyB, points))
  while rounds &gt; 0
    call playOneRound(game)
    call clearKeyBuffer()
    call display(game)
    set rounds to rounds - 1
  end while
end main

procedure playOneRound(game as Game)
  call game.newRound()
  call display(game)
  let dealer be game.dealer
  each player in game.players
    call player.startTurn()
    call display(game)
    while player.status is Status.active
      call player.nextAction(dealer.faceCard)
      call display(game)
    end while
  end each
  call dealer.play()
  call display(game)
  while dealer.status is Status.active
    call dealer.nextAction(dealer.faceCard)
    call display(game)
  end while
  call game.updatePoints()
end procedure

procedure display(game as Game)
  let html be "&lt;style&gt;{styleSheet}&lt;/style&gt;{htmlForGame(game)}"
  call displayHtml(html)
  call pause(1500)
end procedure

function strategyA(p as Player, dealerFaceUp as Card) returns Action
  return Action.stand
end function

function strategyB(p as Player, dealerFaceUp as Card) returns Action
  return Action.draw
end function

procedure updatePoints(dealer as Dealer, player as Player, playerOutcome as Outcome)
  if playerOutcome is Outcome.winDouble then
    call player.changePointsBy(2)
    call dealer.changePointsBy(-2)
  elif playerOutcome is Outcome.win then
    call player.changePointsBy(1)
    call dealer.changePointsBy(-1)
  elif playerOutcome is Outcome.lose then
    call player.changePointsBy(-1)
    call dealer.changePointsBy(1)
  end if
end procedure

function determinePlayerOutcome(dealer as Dealer, player as Player) returns Outcome
  # These 'let' definitions are just to make the logic that follows them simpler to read
  let d be dealer.status
  let dTotal be dealer.handTotal
  let p be player.status
  let pTotal be player.handTotal
  let bust be Status.bust
  let bj be Status.blackjack
  let win be Outcome.win
  let winDouble be Outcome.winDouble
  let lose be Outcome.lose
  let draw be Outcome.draw
  variable playerOutcome set to draw
  if p is bust then
    set playerOutcome to lose
  elif (p is bj) and (d isnt bj) then
    set playerOutcome to winDouble
  elif d is bust then
    set playerOutcome to win
  elif (d is bj) and (p is bj) then
    set playerOutcome to draw
  elif p is bj then
    set playerOutcome to winDouble
  elif d is bj then
    set playerOutcome to lose
  elif pTotal &gt; dTotal then
    set playerOutcome to win
  elif pTotal &lt; dTotal then
    set playerOutcome to lose
  else
    # strictly, this 'else' clause is redundant - as the variable was initialised to 'draw' - but added for clarity
    set playerOutcome to draw
  end if
  return playerOutcome
end function

function dealCard(random as Float) returns Card
  let number be (random*52).floor()
  let rank be rankValue.keys()[(number/4).floor()]
  let suit be intAsSuit(number mod 4)
  return new Card(rank, suit)
end function

function intAsSuit(n as Int) returns Suit
  variable suit set to Suit.clubs
  if n is 1 then
    set suit to Suit.diamonds
  elif n is 2 then
    set suit to Suit.hearts
  elif n is 3 then
    set suit to Suit.spades
  end if
  return suit
end function

function htmlForGame(game as Game) returns String
  variable html set to "&lt;div class='game'&gt;"
  set html to html + htmlForPlayer(game.dealer)
  each player in game.players
    set html to html + htmlForPlayer(player)
  end each
  set html to html + "&lt;div class='message'&gt;{game.message}&lt;/div&gt;"
  return html + "&lt;/div&gt;"
end function

function htmlForPlayer(player as Player) returns String
  variable html set to "&lt;div class='player'&gt;"
  set html to html + "&lt;div class='details'&gt;{player.name} - {player.points} points {player.getMessage()}&lt;/div&gt;"
  set html to html + "&lt;div class='hand'&gt;"
  each card in player.cards
    let suit be card.suit
    let rank be card.rank
    set html to html + htmlForCard(card)
  end each
  return html + "&lt;/div&gt;&lt;/div&gt;"
end function

function htmlForCard(card as Card) returns String
  variable html set to ""
  if card.faceDown then
    set html to "&lt;div class='card reversed'&gt;"
  else
    let rank be card.rank
    let suit be card.suit
    let colour be colours[suit]
    let symbol be symbols[suit]
    set html to "&lt;div class='card {colour}'&gt;"
    let u be htmlForSpot("u", rank)
    let v be htmlForSpot("v", symbol)
    variable grid set to ""
    each location in gridByRank[rank]
      if location is "royal" then
        set grid to grid + htmlForSpot(location, rank)
      else
        set grid to grid + htmlForSpot(location, symbol)
      end if
    end each
    set html to html + "{u}{v}{grid}"
  end if
  return html + "&lt;/div&gt;"
end function

function htmlForSpot(id as String, content as String) returns String
  return "&lt;div class='{id}'&gt;{content}&lt;/div&gt;"
end function

class Game
  constructor(dealerStartPoints as Int)
    set property.dealer to new Dealer(dealerStartPoints)
  end constructor

  property dealer as Dealer

  property players as List&lt;of Player&gt;

  property message as String

  procedure newRound()
    call property.dealer.newHand()
    each player in property.players
      call player.newHand()
    end each
  end procedure

  procedure updatePoints()
    each player in property.players
      let playerOutcome be determinePlayerOutcome(property.dealer, player)
      call global.updatePoints(property.dealer, player, playerOutcome)
    end each
  end procedure

  procedure addPlayer(player as Player)
    call property.players.append(player)
  end procedure

  procedure setMessage(message as String)
    set property.message to message
  end procedure

end class

class Card
  constructor(rank as String, suit as Suit)
    set property.rank to rank
    set property.suit to suit
    set property.value to rankValue[rank]
  end constructor

  property suit as Suit

  property rank as String

  property value as Int

  property faceDown as Boolean

  procedure turnFaceUp()
    set property.faceDown to false
  end procedure

  procedure turnFaceDown()
    set property.faceDown to true
  end procedure

end class

abstract class Player
  property name as String

  property points as Int

  property cards as List&lt;of Card&gt;

  property handTotal as Int

  property hasSoftAce as Boolean

  property status as Status

  property hasTurn as Boolean

  procedure startTurn()
    if property.status is Status.active then
      set property.hasTurn to true
    end if
  end procedure

  procedure evaluateStatus(newCard as Card)
    if (cardCount() is 2) and (property.handTotal is 21) then
      set property.status to Status.blackjack
    elif (property.handTotal &gt; 21) and (property.hasSoftAce) then
      set property.handTotal to property.handTotal - 10
      set property.hasSoftAce to false
    elif property.handTotal &gt; 21 then
      set property.status to Status.bust
    elif property.handTotal is 21 then
      set property.status to Status.standing
    end if
    if property.status isnt Status.active then
      set property.hasTurn to false
    end if
  end procedure

  procedure stand()
    set property.status to Status.standing
    set property.hasTurn to false
  end procedure

  procedure draw()
    let newCard be dealCard(random())
    call property.cards.append(newCard)
    if newCard.rank is "A" then
      call addAce()
    else
      set property.handTotal to property.handTotal + newCard.value
    end if
    call evaluateStatus(newCard)
  end procedure

  procedure addAce()
    if property.hasSoftAce then
      set property.handTotal to property.handTotal + 1
    else
      set property.handTotal to property.handTotal + 11
      set property.hasSoftAce to true
    end if
  end procedure

  function cardCount() returns Int
    return property.cards.length()
  end function

  procedure changePointsBy(amount as Int)
    set property.points to property.points + amount
  end procedure

  abstract procedure newHand()

  procedure newHandHelper()
    set property.hasTurn to false
    set property.hasSoftAce to false
    set property.cards to empty List&lt;of Card&gt;
    set property.handTotal to 0
    set property.status to Status.active
    call draw()
    call draw()
  end procedure

  abstract function getMessage() returns String

  function statusAsString() returns String
    variable msg set to ""
    let status be property.status
    if property.hasTurn then
      set msg to msg + " - PLAYING"
    elif status is Status.standing then
      set msg to msg + " - STANDING"
    elif status is Status.blackjack then
      set msg to msg + " - BLACKJACK"
    elif status is Status.bust then
      set msg to msg + " - BUST"
    end if
    return msg
  end function

  abstract procedure nextAction(dealerFaceCard as Card)

end class

class Dealer inherits Player
  constructor(startingPoints as Int)
    set property.name to "Dealer"
    set property.points to startingPoints
  end constructor

  property faceCard as Card

  property hasPlayed as Boolean

  procedure play()
    call startTurn()
    let hiddenCard be property.cards[1]
    call hiddenCard.turnFaceUp()
    set property.hasPlayed to true
  end procedure

  procedure newHand()
    set property.hasPlayed to false
    call newHandHelper()
    set property.faceCard to property.cards[0]
    let hiddenCard be property.cards[1]
    call hiddenCard.turnFaceDown()
  end procedure

  procedure nextAction(faceCard as Card)
    if property.handTotal &lt; 17 then
      call draw()
    else
      call stand()
    end if
  end procedure

  function getMessage() returns String
    variable msg set to ""
    if property.hasPlayed then
      set msg to statusAsString() + " - hand total: {property.handTotal}"
    end if
    return msg
  end function

end class

class HumanPlayer inherits Player
  constructor(name as String, startingPoints as Int)
    set property.name to name
    set property.points to startingPoints
  end constructor

  procedure newHand()
    call newHandHelper()
  end procedure

  procedure nextAction(dealerFaceCard as Card)
    variable key set to ""
    call clearKeyBuffer()
    while key is ""
      set key to waitForKey()
      if key is "d" then
        call draw()
      elif key is "s" then
        call stand()
      else
        set key to ""
      end if
    end while
  end procedure

  function getMessage() returns String
    variable msg set to statusAsString() + "- hand total: {property.handTotal}"
    if property.hasTurn then
      set msg to msg + " - press 'd' to draw, 's' to stand"
    end if
    return msg
  end function

end class

class AutomatedPlayer inherits Player
  constructor(name as String, decisionFunc as Func&lt;of Player, Card =&gt; Action&gt;, startingPoints as Int)
    set property.name to name
    set property.decisionFunc to decisionFunc
    set property.points to startingPoints
  end constructor

  property decisionFunc as Func&lt;of Player, Card =&gt; Action&gt;

  procedure newHand()
    call newHandHelper()
  end procedure

  procedure nextAction(dealerFaceCard as Card)
    let act be decisionFunc(this, dealerFaceCard)
    if act is Action.draw then
      call draw()
    else
      call stand()
    end if
  end procedure

  function getMessage() returns String
    return statusAsString() + " - hand total: {property.handTotal}"
  end function

end class

enum Action stand, draw

enum Outcome undecided, lose, draw, win, winDouble

enum Status active, standing, blackjack, bust

enum Suit clubs, diamonds, hearts, spades

constant symbols set to {Suit.clubs:"&amp;clubs;", Suit.diamonds:"&amp;diams;", Suit.hearts:"&amp;hearts;", Suit.spades:"&amp;spades;"}

constant rankValue set to {"2":2, "3":3, "4":4, "5":5, "6":6, "7":7, "8":8, "9":9, "10":10, "J":10, "Q":10, "K":10, "A":11}

constant gridByRank set to {"A":{"royal"}, "2":{"b", "c"}, "3":{"a", "b", "c"}, "4":{"d", "e", "f", "g"}, "5":{"a", "d", "e", "f", "g"}, "6":{"d", "e", "f", "g", "h", "i"}, "7":{"d", "e", "f", "g", "h", "i", "l"}, "8":{"d", "e", "f", "g", "h", "i", "l", "m"}, "9":{"a", "d", "e", "f", "g", "n", "o", "p", "r"}, "10":{"d", "e", "f", "g", "n", "o", "p", "r", "s", "t"}, "J":{"royal"}, "Q":{"royal"}, "K":{"royal"}}

constant colours set to {Suit.clubs:"black", Suit.diamonds:"red", Suit.hearts:"red", Suit.spades:"black"}

constant styleSheet set to ':root {\n    background-color: darkgreen;\n    padding-left: 5px;\n}\n\n.game {\n    padding: 5px;\n}\n\n.message, .details  {\n    color: white;\n    font-family: Arial, Helvetica, sans-serif;\n}\n\n.hand {\n        margin-top: 5px;\n        height: 150px;\n        padding-bottom: 10px;\n    }\n    \n.card {\n    position: relative;\n    float: left;\n    background-color: white;\n    width: 95px;\n    height:140px;\n    margin-right:10px;\n    padding: 5px;\n    border-radius: 5px;\n    font-family: Helvetica, sans-serif; \n}\n.royal,.a,.b,.c,.d,.e,.f,.g,.h,.i,.j,.k,.l,.m,.n,.o,.p,.q,.r,.s,.t,.u,.v,.w,.x,.y,.z {position: absolute; text-align:center;}\n\n/* Standard spots */ \n    .a,.b,.c,.d,.e,.f,.g,.h,.i,.l,.m,.n,.o,.p,.r,.s,.t  {font-size:  30px;}\n\n    /* columns */\n    .d,.n,.h,.p,.f {left: 18px }\n    .a,.b,.c,.l,.m,.s,.t {left: 43px;}\n    .e,.o,.i,.r,.g {left: 68px}\n\n    /* rows */\n    .d,.b,.e {top: 0px}\n    .s {top: 20px;}\n    .l {top: 28px;}\n    .n,.o {top: 37px;}\n    .h,.a,.i {top: 57px}\n    .p,.r {top: 75px;}\n    .m {top: 86px;}\n    .t {top: 93px;}\n    .f,.c,.g {top: 114px;}\n\n/* royals */\n    .royal {\n        position: absolute;\n        z-index: 1;\n        width: 95px;\n        height: 140px;\n        line-height: 140px;\n        font-size: 100px;\n    }\n\n/* corner summary */\n    .u {font-size: 15px; width: 15px; text-align: center; left: 0px; top: 2px;}\n    .v {font-size: 20px; width: 15px; text-align: center; left: 0px; top: 12px;}\n\n/* suit colors */\n    .red {color: red}\n    .black {color: black}\n\n/* back */\n    .card.reversed { background-color: rgba(0, 0, 255, 0.607);}'
</div><p></p>
    <p>Immediately <b>file &gt; auto save</b> it to local file storage,
    so that changes you make are preserved.</p>
    <p>Move onto the next step before running the program.</p>
<h4>Notes</h4><textarea class="notes" id="notes1" placeholder="Student or teacher may optionally add notes here"></textarea><label class="done" for="done1">Step Completed</label><input class="step-complete" type="checkbox" id="done1"><span> Total hints used: <span class="hints-taken"></span>/<span class="hints-total"></span></span></div>
<div class="step" id="step2"><h1>Step 2: exploring the code</h1>
    <div style="position: relative; padding-bottom: 74.68879668049793%; height: 0;"><iframe src="https://www.loom.com/embed/0fadd714ba414db28f2da492d3bc0132" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></iframe></div>
    <p>Briefly describe the meaning of 'abstraction' in programming:</p>
<textarea class="question" id="question2-0" placeholder="input is required"></textarea>
<h4>Notes</h4><textarea class="notes" id="notes2" placeholder="Student or teacher may optionally add notes here"></textarea><label class="done" for="done2">Step Completed</label><input class="step-complete" type="checkbox" id="done2"><span> Total hints used: <span class="hints-taken"></span>/<span class="hints-total"></span></span></div>

<div class="step" id="step3"><h1>Step 3: automated players</h1>
    <div style="position: relative; padding-bottom: 70.7732634338139%; height: 0;"><iframe src="https://www.loom.com/embed/4716ba4d7b254ab0aa737647ae854fa0" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></iframe></div>
    <p>Having run the program 3-4 times, which of the two players is operating the very 'high risk' strategy, and which the very 'cautious' strategy?</p>
<textarea class="question" id="question3-0" placeholder="input is required"></textarea>
<h4>Notes</h4><textarea class="notes" id="notes3" placeholder="Student or teacher may optionally add notes here"></textarea><label class="done" for="done3">Step Completed</label><input class="step-complete" type="checkbox" id="done3"><span> Total hints used: <span class="hints-taken"></span>/<span class="hints-total"></span></span></div>

<div class="step" id="step4"><h1>Step 4: identifying the better of the strategies</h1>
    <div style="position: relative; padding-bottom: 37.5751503006012%; height: 0;"><iframe src="https://www.loom.com/embed/1a14a79ab528414db3eb9ef5f8b7007f" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></iframe></div>
    <p>Having run the program to play 10 rounds automatically, how many points did the Dealer, and each of the players ended up with?</p>
<textarea class="question" id="question4-0" placeholder="input is required"></textarea>
    <p>Run the program a second time, and record how many points ended up with this time</p>
<textarea class="question" id="question4-1" placeholder="input is required"></textarea>
<h4>Notes</h4><textarea class="notes" id="notes4" placeholder="Student or teacher may optionally add notes here"></textarea><label class="done" for="done4">Step Completed</label><input class="step-complete" type="checkbox" id="done4"><span> Total hints used: <span class="hints-taken"></span>/<span class="hints-total"></span></span></div>
<div class="step" id="step5"><h1>Step 5: speeding up the program</h1>
    <div style="position: relative; padding-bottom: 78.83211678832116%; height: 0;"><iframe src="https://www.loom.com/embed/432d4c0974f24685a85b66cf7e2c822e" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></iframe></div>
    Make sure that you have ghosted the <el-code><el-id>pause</el-id></el-code> (instruction 31) and all <i>five</i> occurrences of <el-code><el-statement class="none" id="call4" tabindex="-1"><el-kw>call </el-kw><el-field id="ident5" class="ok" tabindex="-1"><el-txt><el-method>display</el-method></el-txt><el-place><i>procedureName</i></el-place><el-compl></el-compl><el-msg></el-msg><el-help title="Click to open Help for this field"><a href="documentation/LangRef.html#ProcRefField" target="help-iframe" tabindex="-1">?</a></el-help></el-field><el-punc>(</el-punc><el-field id="args6" class="optional ok" tabindex="-1"><el-txt><el-id>game</el-id></el-txt><el-place><i>arguments</i></el-place><el-compl></el-compl><el-msg></el-msg><el-help title="Click to open Help for this field"><a href="documentation/LangRef.html#ArgListField" target="help-iframe" tabindex="-1">?</a></el-help></el-field><el-punc>)</el-punc><el-msg></el-msg><el-fr>0</el-fr></el-statement></el-code> within
    the <el-method>playOneRound</el-method> procedure. Then run the program. You will see that both of the two players have lost points -
    only the Dealer is ahead.
    <p>Which of the two players has lost the least points?</p>
<textarea class="question" id="question5-0" placeholder="input is required"></textarea>
    <p>Given that the result is from playing 100 rounds, and each participant started with 1000 points, calculate the average points lost or gained per round expressed as a percentage,
    for the Dealer and each Player (where a loss is a negative percentage and a gain is positive). Show how you worked this out.</p>
<textarea class="question" id="question5-1" placeholder="input is required"></textarea>
<h4>Notes</h4><textarea class="notes" id="notes5" placeholder="Student or teacher may optionally add notes here"></textarea><label class="done" for="done5">Step Completed</label><input class="step-complete" type="checkbox" id="done5"><span> Total hints used: <span class="hints-taken"></span>/<span class="hints-total"></span></span></div>

<div class="step" id="step6"><h1>Step 6: the default strategies</h1>
    <div style="position: relative; padding-bottom: 73.46938775510203%; height: 0;"><iframe src="https://www.loom.com/embed/7707c7c908aa4d898bc749cef8ef93f4" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></iframe></div>
    <p>What can you say that every function does? </p>
<textarea class="question" id="question6-0" placeholder="input is required"></textarea>
<h4>Notes</h4><textarea class="notes" id="notes6" placeholder="Student or teacher may optionally add notes here"></textarea><label class="done" for="done6">Step Completed</label><input class="step-complete" type="checkbox" id="done6"><span> Total hints used: <span class="hints-taken"></span>/<span class="hints-total"></span></span></div>

<div class="step" id="step7"><h1>Step 7:implement a simple strategy with a decision</h1>
    <div style="position: relative; padding-bottom: 53.98406374501992%; height: 0;"><iframe src="https://www.loom.com/embed/e214a039e34546cda0cdd6bb8db72805" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></iframe></div>
    <p>With the changes, how many points does each have after running 100 games?</p>
<textarea class="question" id="question7-0" placeholder="input is required"></textarea>
<h4>Notes</h4><textarea class="notes" id="notes7" placeholder="Student or teacher may optionally add notes here"></textarea><label class="done" for="done7">Step Completed</label><input class="step-complete" type="checkbox" id="done7"><span> Total hints used: <span class="hints-taken"></span>/<span class="hints-total"></span></span></div>

<div class="step" id="step8"><h1>Step 8: simulating 10,000 rounds</h1>
    <div style="position: relative; padding-bottom: 73.77049180327869%; height: 0;"><iframe src="https://www.loom.com/embed/f74225ce446043ae89e61b2c7172cddf" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></iframe></div>
    <p>After making the changes such that the display now only updated after the last round, approximately how long did it take to run 10,000 rounds of Blackjack?</p>
<textarea class="question" id="question8-0" placeholder="input is required"></textarea>
    <p>How many points did the Dealer, and each Player end up with?</p>
<textarea class="question" id="question8-1" placeholder="input is required"></textarea>
    <p>Given that Player B is mimicking the strategy of the Dealer,
        why are they still losing points to the Dealer? (If you can't see why, say so.)
    </p>
<textarea class="question" id="question8-2" placeholder="input is required"></textarea>
<h4>Notes</h4><textarea class="notes" id="notes8" placeholder="Student or teacher may optionally add notes here"></textarea><label class="done" for="done8">Step Completed</label><input class="step-complete" type="checkbox" id="done8"><span> Total hints used: <span class="hints-taken"></span>/<span class="hints-total"></span></span></div>

<div class="step" id="step9"><h1>Step 9: making use of the soft ace</h1>
    <div style="position: relative; padding-bottom: 73.07171853856563%; height: 0;"><iframe src="https://www.loom.com/embed/e70cc3e6e5ee4601886b0bf40516b64b" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></iframe></div>
    <div style="position: relative; padding-bottom: 62.650602409638545%; height: 0;"><iframe src="https://www.loom.com/embed/f3e7072d93a24017aa26bdc14fbe61e5" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></iframe></div>
    <p>After making the changes and running the new version, what were the points for Player A and Player B?</p>
<textarea class="question" id="question9-0" placeholder="input is required"></textarea>
<h4>Notes</h4><textarea class="notes" id="notes9" placeholder="Student or teacher may optionally add notes here"></textarea><label class="done" for="done9">Step Completed</label><input class="step-complete" type="checkbox" id="done9"><span> Total hints used: <span class="hints-taken"></span>/<span class="hints-total"></span></span></div>
<div class="step" id="step10"><h1>Step 10: paying attention to the Dealer's 'face up card'</h1>
    <div style="position: relative; padding-bottom: 67.32673267326732%; height: 0;"><iframe src="https://www.loom.com/embed/2ab8b82ff38f4eb6b8d9e6d04b357e15" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></iframe></div>
    <div style="position: relative; padding-bottom: 62.44979919678715%; height: 0;"><iframe src="https://www.loom.com/embed/488a54f3d8684f0692f5acd7e2e39a66" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></iframe></div>
    <p>After making the changes and running the new version, what were the points for Player A and Player B?</p>
<textarea class="question" id="question10-0" placeholder="input is required"></textarea>
<h4>Notes</h4><textarea class="notes" id="notes10" placeholder="Student or teacher may optionally add notes here"></textarea><label class="done" for="done10">Step Completed</label><input class="step-complete" type="checkbox" id="done10"><span> Total hints used: <span class="hints-taken"></span>/<span class="hints-total"></span></span></div>
<div class="step" id="step11"><h1>Step 11: expanding the scope of the previous rule</h1>
    <div style="position: relative; padding-bottom: 62.4%; height: 0;"><iframe src="https://www.loom.com/embed/c9365e4a549b4e19931d5dc270ce0072" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></iframe></div>
    <p>After making the changes and running the new version, what were the points for Player A and Player B?</p>
<textarea class="question" id="question11-0" placeholder="input is required"></textarea>
<h4>Notes</h4><textarea class="notes" id="notes11" placeholder="Student or teacher may optionally add notes here"></textarea><label class="done" for="done11">Step Completed</label><input class="step-complete" type="checkbox" id="done11"><span> Total hints used: <span class="hints-taken"></span>/<span class="hints-total"></span></span></div>
<div class="step" id="step12"><h1>Step 12: testing what you have learned</h1>
    <p>What does defining a named value as a 'variable' allow you to then do?</p>
<textarea class="question" id="question12-0" placeholder="input is required"></textarea>
    <p>When defining a variable, what two things must you specify?</p>
<textarea class="question" id="question12-1" placeholder="input is required"></textarea>
    <p>What kind of instruction is used to change the value of a variable?</p>
<textarea class="question" id="question12-2" placeholder="input is required"></textarea>
    <p>What must the code written into the 'condition' field of an 'if' instruction evaluate to?</p>
<textarea class="question" id="question12-3" placeholder="input is required"></textarea>
    <p>Some types offer 'properties'. What is a property?</p>
<textarea class="question" id="question12-4" placeholder="input is required"></textarea>
    <p>If you have a named value and you want to see what properties (if any) you can
        access from it, how do you do that?</p>
<textarea class="question" id="question12-5" placeholder="input is required"></textarea>
    <p>What happens if you try to compare two values that are of different types?</p>
<textarea class="question" id="question12-6" placeholder="input is required"></textarea>
    <p>If an 'if instruction' is given an 'else' clause, under what condition is that else clause executed?</p>
<textarea class="question" id="question12-7" placeholder="input is required"></textarea>
    <p>If you combine more than one operator within a condition, what must you be careful about?</p>
<textarea class="question" id="question12-8" placeholder="input is required"></textarea>
    <p>And what is the best way to ensure that you don't run into a problem when combining operators?</p>
<textarea class="question" id="question12-9" placeholder="input is required"></textarea>
<h4>Notes</h4><textarea class="notes" id="notes12" placeholder="Student or teacher may optionally add notes here"></textarea><label class="done" for="done12">Step Completed</label><input class="step-complete" type="checkbox" id="done12"><span> Total hints used: <span class="hints-taken"></span>/<span class="hints-total"></span></span></div>
<div class="final" id="final13"><h1>Congratulations! You have finished this worksheet</h1>
    Answers to the questions in the previous step:
    <ul>
        <li><b>Q: What does defining a named value as a 'variable' allow you to then do?</b> 
            A: It allows you to change the value subsequently.
        </li>
        <li><b>When defining a variable, what two things must you specify?</b>
            You must specify the <i>name</i> for the variable and its initial value.
        </li>
        <li><b>What kind of instruction is used to change the value of a variable?</b>
        A: a <el-code><el-kw>set</el-kw></el-code> instruction.</li>
        <li><b>Q: What must the code written into the 'condition' field of an 'if' instruction evaluate to?</b>
        A: It must evaluate to 'true' or 'false'</li>
        <li><b>Q: Some types offer 'properties'. What is a property?</b>
        A: a piece of information</li>
        <li><b>Q: If you have a named value and you want to see what properties (if any) you can
            access from it, how do you do that?</b>
        A: by typing a dot after the named value and selecting an option from the pop-up list</li>
        <li><b>Q: What happens if you try to compare two values that are of different types?</b>
        A: You get a 'type incompatibility' error (like comparing apples and oranges)</li>
        <li><b>Q: If you combine more than one operator within a condition, what must you be careful about?</b>
        A: operator precedence</li>
        <li><b>Q: And what is the best way to ensure that you don't run into a problem when combining operators?</b>
        A: by using brackets to ensure that there is no ambiguity between which argument is applied to which operator.</li>
    </ul>
    If you are interested in taking this project further, watch this video first:
    <div style="position: relative; padding-bottom: 75.5050505050505%; height: 0;"><iframe src="https://www.loom.com/embed/6b98b38000db4afe8f9851c5232477ae" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></iframe></div>
</div>
  <div hidden="" id="hash"></div>
  <div hidden="" id="changes"></div>

    <script src="https://elan-language.github.io/LanguageAndIDE/diff.js"></script>
    <script src="https://elan-language.github.io/LanguageAndIDE/worksheet-model-scripts.js"></script>
  </body>
</html>