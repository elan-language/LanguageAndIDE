<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-GB">

<head>
  <meta http-equiv="Cache-Control" content="no-store" />
  <link href="../../../out/website/styles/colourScheme.css" rel="stylesheet" />
  <link href="../../../out/website/styles/elanStyle.css" rel="stylesheet" />
  <link href="../../../out/website/styles/documentation.css" rel="stylesheet" />
  <link href="../../../out/website/styles/worksheet.css" rel="stylesheet" />
</head>

<body>
<div id="worksheet">
  <div class="docTitle">Simon game</div>

  <button id="auto-save">Auto-save to file</button><span> to continue. (After that any entries made into the worksheet will be automatically saved, and you can re-load the partially-completed worksheet in future - at which point you will be asked to auto-save it again).</span>

  <div class="step" id="step0">
    <label for="username">Enter your name: </label>
    <input type="text" class="question" id="username">
    <h3>Preliminaries</h3>
    <ul>
      <li>Set the browser to Full Screen view, to give this worksheet, and your code, as much space as possible.</li>
      <li>Select <b>File &gt; New</b> to start a new program,
        then select <b>File &gt; Auto Save</b> and complete the dialog to ensure that your <i>code</i> is always saved.
        Remember that you can use the <b>Undo</b> button (or <b>Ctrl-z</b>) to undo recent changes.</li>
      <li>Remember that if the code editor has a tinted background it does not have focus and will not respond
          to edits. To give it focus click within the editor. (If a program is running, you will need to stop it first.)
      </li>
      <li>Use the auto-completion options as much as possible, because this reduces errors.</li>
      <li>Use the <i>Hints</i> only when you <i>need</i> them - as all use of hints is recorded. Use of <b>Help</b> is encouraged and not recorded.</li>
      <li>Use the <b>Trim</b> button periodically to remove leftover <el-code>new code</el-code> prompts.</li>
    </ul>
    <label class="done" for="done0">Preliminaries completed</label>
    <input type="checkbox" class="step-complete" id="done0">
<span> Total hints used: <span class="hints-taken"></span>/<span class="hints-total"></span></span>
</div>

  <div class="step" id="step1">
    <p>In the classic hand-held electronic game <a href="https://en.wikipedia.org/wiki/Simon_(game)" target="_blank">Simon</a>,
    the device played a sequence of 'moves' and the players task was to remember and reproduce
    the sequence. Each of the four possible moves had a different colour (red, yellow, blue, green)
    associated with a different physical position and with a different audible tone. If the player
    reproduced the sequence correctly, the device played the sequence again with one more move added,
    and as the sequence lengthened, each move was shown for a shorter duration.
    If the player made a single incorrect move the game was over and the score
    reflected the longest length of sequence that the player reproduced correctly.
    The game was surprisingly engaging, and proved very popular.</p>
    <p>We are going to build a simulation of the Simon game, with the four moves shown
      as large coloured circles in a row accompanied by audible tones.
      The player will use the four numeric keys <b>1 2 3 4</b> to input their memory
       of the sequence - the numbers corresponding to the four positions in the row.</p>

    <p>We will make more than one use of a 'List' data structure in this program.
      A List is similar to an Array, but may be extended indefinitely
      (within in the limits of a computer's memory).
      A list may even start off empty and grow from there.</p>

    <h3>Iteration 1 - Draw a solid circle</h3>
    <ul>
      <li>Add a <el-kw>main</el-kw>, and within that add a <el-kw>let</el-kw>
        instruction, defining the name <el-id>circle</el-id> to be <el-field><el-code><el-kw>new</el-kw> <el-type>CircleVG</el-type>()</el-code>
        noting that the '<el-type>VG</el-type>'' in <el-type>CircleVG</el-type> is short for 'Vector Graphic' which is
        a way to draw very high resolution graphics,with more flexibility and greater speed than is possible using
      Turtle graphics, for example.</el-field></li>
      <li>Follow this with:
        <el-code-block>
          <el-statement><el-top><el-kw>call </el-kw><el-field><el-txt><el-method>displayVectorGraphics</el-method></el-txt></el-field>(<el-field class="optional ok"><el-txt>[<el-id>circle</el-id>]</el-txt></el-field>)</el-top></el-statement>
        </el-code-block>

        noting the use of square brackets around <el-code>[<el-id>circle</el-id>]</el-code>. The square brackets
        define a literal List, in this case with just one member. The procedure method
        <el-method>displayVectorGraphics</el-method> <i>requires</i> a List as its argument because a typical application using Vector Graphics
        would display multiple shapes - lines, circles, rectangles and more - and we could
        just include them all within the square brackets, separated by commas.
        We will be making a more significant uses of Lists later on.
      </li>
      <li>Run the application and note that it displays a circle in the centre of the <b>Display</b>. But
      why is it yellow, and what determined the size and position? It uses some default values - just so
      that you see something. Now we will specify those properties.</li>
      <li>Select the second field in the <el-kw>let</el-kw> statement, and at the right hand end
        enter <el-kw>with</el-kw> (followed by a space). You will now be presented with a
        a list of the properties that can be specified with for a <el-type>CircleVG</el-type>.
         Select the first option, <el-id>centreX</el-id>, then <b>Tab</b> to add the prompted words
         15,<el-kw>set to</el-kw> and then enter the value <el-lit>15</el-lit> followed by a comma.
        Repeat this sequence to set the <el-id>centreY</el-id> to <el-lit>15</el-lit>, the <el-id>radius</el-id> to <el-lit>10</el-lit>,
        and the <el-id>strokeWidth</el-id> to <el-lit>0</el-lit> - the last one being to get rid of the black line around the circle.
        When you press <b>Enter</b> at the end of this field, the instruction will automatically reformat for
        over several lines for readability, but note that this is still one instruction, and if you were to edit it again the field would still be one long line.</li>
        <li>How do we know what values to use, even approximately?  The <b>Display</b> measures 100 units wide by 75 units deep,
        with the top-left corner having coordinates 0,0, and the bottom-right 100, 75.</li>
        <li>Run the program again and confirm that a larger yellow circle, now with no edge line at the
          top-left of the <b>Display</b>.
      </li>
    </ul>
    <div class="hint" id="hint1" data-hint="">Hint: The main so far</div>
    <div class="content" id="hint1content">
      <el-code-block>
        <main class="ok multiline" id="main3">
          <el-top><el-expand>+</el-expand><el-kw>main</el-kw></el-top>
          <el-statement><el-kw>let </el-kw><el-field><el-txt><el-id>circle</el-id></el-txt></el-field><el-kw> be </el-kw><el-field><el-txt><el-kw>new</el-kw> <el-type>CircleVG</el-type>()<el-kw> with </el-kw><br><el-id>centreX</el-id><el-kw> set to </el-kw><el-lit>15</el-lit>, <br><el-id>centreY</el-id><el-kw> set to </el-kw><el-lit>15</el-lit>, <br><el-id>radius</el-id><el-kw> set to </el-kw><el-lit>10</el-lit>, <br><el-id>strokeWidth</el-id><el-kw> set to </el-kw><el-lit>0</el-lit></el-txt></el-field></el-statement>
          <el-statement><el-top><el-kw>call </el-kw><el-field><el-txt><el-method>displayVectorGraphics</el-method></el-txt></el-field>(<el-field class="optional ok"><el-txt>[<el-id>circle</el-id>]</el-txt></el-field>)</el-top></el-statement>
          <el-kw>end main</el-kw>
        </main>
      </el-code-block>
    </div>
    <label class="done" for="done1">Step completed</label>
  <input type="checkbox" class="step-complete" id="done1">
<span> Total hints used: <span class="hints-taken"></span>/<span class="hints-total"></span></span>
</div>

  <div class="step" id="step2">
    <h3>Iteration 2- Draw circle in four different locations and colours</h3>
    <p>Although the game will display only one circle at a time, we want to position it
      in one of four places in a row, with a different colour for each place.
      We already know that we will be using the <b>1 2 3 4</b> keys so, for
      the time being, we will simply define a name <el-id>move</el-id> which holds
      one of those four integer values.
    </p>
    <ul>
    <li><i>Above</i> the first <el-kw>let</el-kw> instruction add another
      <el-kw>let</el-kw> that defines <el-id>move</el-id> to be <el-lit>4</el-lit>.
      Then we'll use that to adjust the horizontal position of the circle.</li>
    <li>Given that the circle has radius of 10, we want the four positions
      to be spaced 20 apart, so that the locations are distinct. So change
      the value specified (lower down) for <el-id>centreX</el-id> from <el-lit>15</el-lit>
      to:

      <el-code-block>
        <el-id>move</el-id>*<el-lit>20</el-lit> - <el-lit>5</el-lit>
      </el-code-block>
      noting that:
      <ul>
       <li>the text will revert to a single line while being edited</li>
       <li>as you are editing the field it will change colour at certain points when the text does not yet form a valid expression
        but will turn green again when you are done.
       </li>
      </ul>
      Then press <b>Enter</b> to exit the field.
      Run the program and check that the circle is now near the right-hand edge of the <b>Display</b>.</li>
      <li>Now we want to be able to specify the colour according to the position
        (i.e. according to the value of <el-id>move</el-id>). So let's first
        define the four colour-values as a list.
        Add the following immediately above the <el-kw>let</el-kw>
        that defines <el-id>circle</el-id>:
        <el-code-block>
          <el-statement><el-kw>let </el-kw><el-field><el-txt><el-id>colours</el-id></el-txt></el-field><el-kw> be </el-kw><el-field><el-txt>[<el-id>red</el-id>, <el-id>yellow</el-id>, <el-id>blue</el-id>, <el-id>green</el-id>]</el-txt></el-field></el-statement>
        </el-code-block>
        Again, this could have been an Array - because we won't be needing to extend it.
        But if we already know the values, it is <i>easier to define a 'literal' List</i> - using
        the square brackets - than it is to define and then populate an Array.</li>
        <li>Back on the definition of the circle, add the following to the properties being set
          (the <i>order</i> in which the properties are specified after a <el-kw>with</el-kw> is not important):
          <el-code-block>, <el-id>fillColour</el-id><el-kw> set to </el-kw><el-id>colours</el-id>[<el-id>move</el-id> - <el-lit>1</el-lit>]</el-code-block>
          This is using <el-id>move</el-id> as the index to select a numbered element within the list of colours,
          much as you have already done when using an Array. The reason we had to subtract
          <el-lit>1</el-lit> is that <el-id>move</el-id> will have the values 1,2,3, or 4
          but the indexes for a list, as for an Array, are always numbered from 0.</li>
        <li>Run the program more than once, varying the value defined for <el-id>move</el-id> from 1 to 4
          to check that each value draws the circle in a different place and colour.
        </li>
      </ul>
      <div class="hint" id="hint2" data-hint="">Hint: The main so far</div>
      <div class="content" id="hint2content">
        <p>Note that it doesn't matter which value (1 to 4) is specified for <el-id>move</el-id> at this stage.</p>
        <el-code-block>
          <main class="ok multiline" id="main3">
            <el-top><el-expand>+</el-expand><el-kw>main</el-kw></el-top>
            <el-statement><el-kw>let </el-kw><el-field><el-txt><el-id>move</el-id></el-txt></el-field><el-kw> be </el-kw><el-field><el-txt><el-lit>1</el-lit></el-txt></el-field></el-statement>
            <el-statement ><el-kw>let </el-kw><el-field><el-txt><el-id>colours</el-id></el-txt></el-field><el-kw> be </el-kw><el-field><el-txt>[<el-id>red</el-id>, <el-id>yellow</el-id>, <el-id>blue</el-id>, <el-id>green</el-id>]</el-txt></el-field></el-statement>
            <el-statement><el-kw>let </el-kw><el-field><el-txt><el-id>circle</el-id></el-txt></el-field><el-kw> be </el-kw><el-field><el-txt><el-kw>new</el-kw> <el-type>CircleVG</el-type>()<el-kw> with </el-kw><br><el-id>centreX</el-id><el-kw> set to </el-kw><el-id>move</el-id>*<el-lit>20</el-lit> - <el-lit>5</el-lit>, <br><el-id>centreY</el-id><el-kw> set to </el-kw><el-lit>15</el-lit>, <br><el-id>radius</el-id><el-kw> set to </el-kw><el-lit>10</el-lit>, <br><el-id>strokeWidth</el-id><el-kw> set to </el-kw><el-lit>0</el-lit>, <br><el-id>fillColour</el-id><el-kw> set to </el-kw><el-id>colours</el-id>[<el-id>move</el-id> - <el-lit>1</el-lit>]</el-txt></el-field></el-statement>
            <el-statement><el-top><el-kw>call </el-kw><el-field><el-txt><el-method>displayVectorGraphics</el-method></el-txt></el-field>(<el-field class="optional ok"><el-txt>[<el-id>circle</el-id>]</el-txt></el-field>)</el-top></el-statement>
            <el-kw>end main</el-kw>
          </main>
        </el-code-block>
      </div>
  <label class="done" for="done2">Step completed</label>
  <input type="checkbox" class="step-complete" id="done2">
<span> Total hints used: <span class="hints-taken"></span>/<span class="hints-total"></span></span>
</div>

  <div class="step" id="step3">
    <h3>Iteration 3 - Move the display capability into a procedure</h3>
  <p>Whenever you find yourself with multiple instructions that together perform something that you could put a single name on,
    it is often good practice to move them into a named procedure.
    This keeps your code easier to read and to maintain.
    It is even more useful if you subsequently find yourself wanting to perform that same thing elsewhere in the code.
  </p>
  <ul>
    <li>Select the <el-code>new code</el-code> prompt that follows <el-kw>end main</el-kw>
    (or if there isn't one, select <el-kw>main</el-kw> and hit <b>Enter</b>).
    Add a <el-kw>procedure</el-kw> and specify
    its name as <el-method>displayMove</el-method>. Then in the field between
    the brackets, add <el-id>move</el-id><el-kw> as </el-kw><el-type>Int</el-type>.
    This specifies that when you call <el-method>displayMove</el-method> you must
    provide a value that is an integer.</li>
    <li>
      Now cut and paste the <i>last three</i> instructions from <el-kw>main</el-kw> into the new procedure
      leaving only the definition of <el-id>move</el-id> in <el-kw>main</el-kw>.
      It doesn't matter whether or not you also include any <el-code>new code</el-code> prompts -
      they don't count as instructions - but it is neater to periodically <b>Trim</b> them.</li>
    <li>Add a new instruction at the bottom of <el-kw>main</el-kw> to call the procedure,
      using the defined value <el-id>move</el-id> as the argument.
      Then run the program and check that it does the same as the previous iteration.</li>

      <div class="hint" id="hint3a" data-hint="">Hint 1: Abbreviated instructions</div>
        <div class="content" id="hint3acontent">

        The <i>structure</i> of your code should look like this:
        <el-code-block>
          <main class="ok multiline" >
          <el-top><el-kw>main</el-kw></el-top>
          <el-statement ><el-kw>let </el-kw></el-statement>
          <el-statement ><el-top><el-kw>call </el-kw></el-statement>
          <el-kw>end main</el-kw>
          </main>
          <el-proc class="ok multiline" >
          <el-top><el-kw>procedure </el-kw></el-top>
          <el-statement ><el-kw>let </el-kw></el-statement>
          <el-statement ><el-kw>let </el-kw></el-statement>
          <el-statement ><el-top><el-kw>call </el-kw></el-statement>
          <el-kw>end procedure</el-kw>
          </el-proc>
        </el-code-block>
      </div>

      <div class="hint" id="hint" data-hint="">Hint 2: The whole code</div>
        <div class="content" id="hintcontent">
          <el-code-block>
            <main class="ok multiline" >
            <el-top><el-kw>main</el-kw></el-top>
            <el-statement ><el-kw>let </el-kw><el-field><el-txt><el-id>move</el-id></el-txt></el-field><el-kw> be </el-kw><el-field><el-txt><el-lit>1</el-lit></el-txt></el-field></el-statement>
            <el-statement ><el-top><el-kw>call </el-kw><el-field><el-txt><el-method>displayMove</el-method></el-txt></el-field>(<el-field class="optional ok"><el-txt><el-id>move</el-id></el-txt></el-field>)</el-top></el-statement>
            <el-kw>end main</el-kw>
            </main>
            <el-proc class="ok multiline" >
            <el-top><el-kw>procedure </el-kw><el-method><el-field><el-txt>displayMove</el-txt></el-field></el-method>(<el-field class="optional ok"><el-txt><el-id>move</el-id> <el-kw>as</el-kw> <el-type>Int</el-type></el-txt></el-field>)</el-top>
            <el-statement ><el-kw>let </el-kw><el-field><el-txt><el-id>colours</el-id></el-txt></el-field><el-kw> be </el-kw><el-field><el-txt>[<el-id>red</el-id>, <el-id>yellow</el-id>, <el-id>blue</el-id>, <el-id>green</el-id>]</el-txt></el-field></el-statement>
            <el-statement ><el-kw>let </el-kw><el-field><el-txt><el-id>circle</el-id></el-txt></el-field><el-kw> be </el-kw><el-field><el-txt><el-kw>new</el-kw> <el-type>CircleVG</el-type>()<el-kw> with </el-kw><br><el-id>centreX</el-id><el-kw> set to </el-kw><el-id>move</el-id>*<el-lit>20</el-lit> - <el-lit>5</el-lit>, <br><el-id>centreY</el-id><el-kw> set to </el-kw><el-lit>15</el-lit>, <br><el-id>radius</el-id><el-kw> set to </el-kw><el-lit>10</el-lit>, <br><el-id>strokeWidth</el-id><el-kw> set to </el-kw><el-lit>0</el-lit>, <br><el-id>fillColour</el-id><el-kw> set to </el-kw><el-id>colours</el-id>[<el-id>move</el-id> - <el-lit>1</el-lit>]</el-txt></el-field></el-statement>
            <el-statement ><el-top><el-kw>call </el-kw><el-field><el-txt><el-method>displayVectorGraphics</el-method></el-txt></el-field>(<el-field class="optional ok"><el-txt>[<el-id>circle</el-id>]</el-txt></el-field>)</el-top></el-statement>
            <el-kw>end procedure</el-kw>
            </el-proc>
          </el-code-block>
        </div>
    </li>
  </ul>
    <label class="done" for="done3">Step completed</label>
  <input type="checkbox" class="step-complete" id="done3"/>
<span> Total hints used: <span class="hints-taken"></span>/<span class="hints-total"></span></span>
</div>

  <div class="step"  id="step4">
    <h3>Iteration 4: Play a sequence</h3>

    <ul>
      <li>Edit the first <el-kw>let</el-kw> in <el-kw>main</el-kw>, replacing the name <el-id>move</el-id>
        with <el-id>sequence</el-id> and replacing the single value with this literal list of integers:
        <el-code>[<el-lit>3</el-lit>, <el-lit>4</el-lit>, <el-lit>1</el-lit>, <el-lit>1</el-lit>, <el-lit>2</el-lit>]</el-code>
        . This change will produce a temporary <i>compile warning</i>
        because <el-id>move</el-id> is now <i>unknown</i> - but we'll fix that...</li>
      <li>Immediately <i>below</i> the <el-kw>let</el-kw> just altered,
        insert an <el-kw>each</el-kw> instruction that defines the <i>elementName</i> (first field) as <el-id>move</el-id>
        and uses <el-id>sequence</el-id> as the <i>source</i>.</li>
        <li>Cut and paste the existing call to <el-method>displayMove</el-method> into the new <el-kw>each</el-kw> loop.
        Your code should now parse and compile correctly again.</li>
        <li>Within the <el-method>displayMove</el-method> procedure add, at the end, an instruction to <el-method>pause</el-method> for a full second -
          otherwise things will happen too quickly to see.</li>
        <li>Run the program. What is it doing?</li>
          <textarea class="question" id="input4a"></textarea>
        <div class="hint" id="hint4a" data-hint="">Hint: Show the abbreviated instructions</div>
        <div class="content" id="hint4acontent">
          <el-code-block>
            <main class="ok multiline">
              <el-top><el-expand>+</el-expand><el-kw>main</el-kw></el-top>
              <el-statement><el-kw>let </el-kw></el-statement>
              <el-statement class="ok multiline">
              <el-top><el-expand>+</el-expand><el-kw>each </el-kw><el-field></el-top>
              <el-statement><el-top><el-kw>call </el-kw></el-statement>
              <el-kw>end each</el-kw></el-statement>
              <el-kw>end main</el-kw>
            </main>
            <el-proc class="ok multiline">
              <el-top><el-expand>+</el-expand><el-kw>procedure </el-kw><el-method></el-top>
              <el-statement><el-kw>let </el-kw></el-statement>
              <el-statement><el-kw>let </el-kw></el-statement>
              <el-statement><el-top><el-kw>call </el-kw></el-statement>
              <el-statement><el-top><el-kw>call </el-kw></el-statement>
              <el-kw>end procedure</el-kw>
            </el-proc>
          </el-code-block>
        </div>
        <div class="hint" id="hint4b" data-hint="">Hint: Show the whole code.</div>
        <div class="content" id="hint4bcontent">
          <el-code-block>
            <main class="ok multiline" id="main3">
              <el-top><el-expand>+</el-expand><el-kw>main</el-kw></el-top>
              <el-statement><el-kw>let </el-kw><el-field><el-txt><el-id>sequence</el-id></el-txt></el-field><el-kw> be </el-kw><el-field><el-txt>[<el-lit>3</el-lit>, <el-lit>4</el-lit>, <el-lit>1</el-lit>, <el-lit>1</el-lit>, <el-lit>2</el-lit>]</el-txt></el-field></el-statement>
              <el-statement class="ok multiline">
              <el-top><el-expand>+</el-expand><el-kw>each </el-kw><el-field><el-txt><el-id>move</el-id></el-txt></el-field><el-kw> in </el-kw><el-field><el-txt><el-id>sequence</el-id></el-txt></el-field></el-top>
                <el-statement><el-top><el-kw>call </el-kw><el-field><el-txt><el-method>displayMove</el-method></el-txt></el-field>(<el-field class="optional ok"><el-txt><el-id>move</el-id></el-txt></el-field>)</el-top></el-statement>
              <el-kw>end each</el-kw>
              </el-statement>
              <el-kw>end main</el-kw>
              </main>
            <el-proc class="ok multiline">
              <el-top><el-expand>+</el-expand><el-kw>procedure </el-kw><el-method><el-field><el-txt>displayMove</el-txt></el-field></el-method>(<el-field class="optional ok"><el-txt><el-id>move</el-id> <el-kw>as</el-kw> <el-type>Int</el-type></el-txt></el-field>)</el-top>
                <el-statement><el-kw>let </el-kw><el-field><el-txt><el-id>colours</el-id></el-txt></el-field><el-kw> be </el-kw><el-field><el-txt>[<el-id>red</el-id>, <el-id>yellow</el-id>, <el-id>blue</el-id>, <el-id>green</el-id>]</el-txt></el-field></el-statement>
                <el-statement><el-kw>let </el-kw><el-field><el-txt><el-id>circle</el-id></el-txt></el-field><el-kw> be </el-kw><el-field><el-txt><el-kw>new</el-kw> <el-type>CircleVG</el-type>()<el-kw> with </el-kw><br><el-id>centreX</el-id><el-kw> set to </el-kw><el-id>move</el-id>*<el-lit>20</el-lit> - <el-lit>5</el-lit>, <br><el-id>centreY</el-id><el-kw> set to </el-kw><el-lit>15</el-lit>, <br><el-id>radius</el-id><el-kw> set to </el-kw><el-lit>10</el-lit>, <br><el-id>strokeWidth</el-id><el-kw> set to </el-kw><el-lit>0</el-lit>, <br><el-id>fillColour</el-id><el-kw> set to </el-kw><el-id>colours</el-id>[<el-id>move</el-id> - <el-lit>1</el-lit>]</el-txt></el-field></el-statement>
                <el-statement><el-top><el-kw>call </el-kw><el-field><el-txt><el-method>displayVectorGraphics</el-method></el-txt></el-field>(<el-field class="optional ok"><el-txt>[<el-id>circle</el-id>]</el-txt></el-field>)</el-top></el-statement>
                <el-statement><el-top><el-kw>call </el-kw><el-field><el-txt><el-method>pause</el-method></el-txt></el-field>(<el-field class="optional ok"><el-txt><el-lit>1000</el-lit></el-txt></el-field>)</el-top></el-statement>
              <el-kw>end procedure</el-kw>
            </el-proc>
          </el-code-block>
        </div>
        </li>
        <li>
          At a future stage we will want to be able to change the duration for which the circles appear, so define a
           <el-kw>variable</el-kw> named <el-id>interval</el-id> at the very top of <el-kw>main</el-kw>, initialised to <el-lit>1000</el-lit>.
          Then pass <el-id>interval</el-id> as a second argument into the <el-kw>call</el-kw> to <el-method>displayMove</el-method>, separated from
          <el-id>move</el-id> by a comma. This will initially give you an error because the definition of the <el-kw>procedure </el-kw><el-method>displayMove</el-method>
          currently expects only one parameter. So, within that procedure definition, define a second parameter, separated from the first
          by a comma, giving it the name <el-id>interval</el-id> and the type for an integer. Then use that parameter name <el-id>interval</el-id>
          instead of the literal number currently given as an argument to <el-method>pause</el-method>. Run the program to check that
          it still works the same way.
        <div class="hint" id="hint4c" data-hint="">Hint 1: Show the abbreviated instructions</div>
        <div class="content" id="hint4ccontent">
          <el-code-block>
            <el-code-block>
              <main class="ok multiline" id="main3">
                <el-top><el-expand>+</el-expand><el-kw>main</el-kw></el-top>
                <el-statement><el-kw>variable </el-kw></el-statement>
                <el-statement><el-kw>let </el-kw></el-statement>
                <el-statement class="ok multiline">
                <el-top><el-expand>+</el-expand><el-kw>each </el-kw></el-top>
                <el-statement><el-top><el-kw>call </el-kw></el-statement>
                <el-kw>end each</el-kw>
                </el-statement>
                <el-kw>end main</el-kw>
              </main>
              <el-proc class="ok multiline">
                <el-top><el-expand>+</el-expand><el-kw>procedure </el-kw></el-top>
                <el-statement><el-kw>let </el-kw></el-statement>
                <el-statement><el-kw>let </el-kw></el-statement>
                <el-statement><el-top><el-kw>call </el-kw></el-statement>
                <el-statement><el-top><el-kw>call </el-kw></el-statement>
                <el-kw>end procedure</el-kw>
              </el-proc>
            </el-code-block>
          </el-code-block>
        </div>
        <div class="hint" id="hint4d" data-hint="">Hint 2: Show the whole code</div>
        <div class="content" id="hint4dcontent">
          <el-code-block>
            <main class="ok multiline" id="main3">
              <el-top><el-expand>+</el-expand><el-kw>main</el-kw></el-top>
              <el-statement><el-kw>variable </el-kw><el-field><el-txt><el-id>interval</el-id></el-txt></el-field><el-kw> set to </el-kw><el-field><el-txt><el-lit>1000</el-lit></el-txt></el-field></el-statement>
              <el-statement><el-kw>let </el-kw><el-field><el-txt><el-id>sequence</el-id></el-txt></el-field><el-kw> be </el-kw><el-field><el-txt>[<el-lit>3</el-lit>, <el-lit>4</el-lit>, <el-lit>1</el-lit>, <el-lit>1</el-lit>, <el-lit>2</el-lit>]</el-txt></el-field></el-statement>
              <el-statement class="ok multiline">
              <el-top><el-expand>+</el-expand><el-kw>each </el-kw><el-field><el-txt><el-id>move</el-id></el-txt></el-field><el-kw> in </el-kw><el-field><el-txt><el-id>sequence</el-id></el-txt></el-field></el-top>
              <el-statement><el-top><el-kw>call </el-kw><el-field><el-txt><el-method>displayMove</el-method></el-txt></el-field>(<el-field class="optional ok"><el-txt><el-id>move</el-id>, <el-id>interval</el-id></el-txt></el-field>)</el-top></el-statement>
              <el-kw>end each</el-kw>
              </el-statement>
              <el-kw>end main</el-kw>
            </main>
            <el-proc class="ok multiline">
              <el-top><el-expand>+</el-expand><el-kw>procedure </el-kw><el-method>displayMove</el-method>(<el-field class="optional ok"><el-txt><el-id>move</el-id> <el-kw>as</el-kw> <el-type>Int</el-type>, <el-id>interval</el-id> <el-kw>as</el-kw> <el-type>Int</el-type></el-txt></el-field>)</el-top>
              <el-statement><el-kw>let </el-kw><el-field><el-txt><el-id>colours</el-id></el-txt></el-field><el-kw> be </el-kw><el-field><el-txt>[<el-id>red</el-id>, <el-id>yellow</el-id>, <el-id>blue</el-id>, <el-id>green</el-id>]</el-txt></el-field></el-statement>
              <el-statement><el-kw>let </el-kw><el-field><el-txt><el-id>circle</el-id></el-txt></el-field><el-kw> be </el-kw><el-field><el-txt><el-kw>new</el-kw> <el-type>CircleVG</el-type>()<el-kw> with </el-kw><br><el-id>centreX</el-id><el-kw> set to </el-kw><el-id>move</el-id>*<el-lit>20</el-lit> - <el-lit>5</el-lit>, <br><el-id>centreY</el-id><el-kw> set to </el-kw><el-lit>15</el-lit>, <br><el-id>radius</el-id><el-kw> set to </el-kw><el-lit>10</el-lit>, <br><el-id>strokeWidth</el-id><el-kw> set to </el-kw><el-lit>0</el-lit>, <br><el-id>fillColour</el-id><el-kw> set to </el-kw><el-id>colours</el-id>[<el-id>move</el-id> - <el-lit>1</el-lit>]</el-txt></el-field></el-statement>
              <el-statement><el-top><el-kw>call </el-kw><el-field><el-txt><el-method>displayVectorGraphics</el-method></el-txt></el-field>(<el-field class="optional ok"><el-txt>[<el-id>circle</el-id>]</el-txt></el-field>)</el-top></el-statement>
              <el-statement><el-top><el-kw>call </el-kw><el-field><el-txt><el-method>pause</el-method></el-txt></el-field>(<el-field class="optional ok"><el-txt><el-lit><el-id>interval</el-id></el-lit></el-txt></el-field>)</el-top></el-statement>
              <el-kw>end procedure</el-kw>
            </el-proc>
          </el-code-block>
        </div>
        </li>
        <li>You might have noticed that where the sequence has the same move twice in succession, this just displays as a one longer
          move - which will be confusing, especially if the game speeds up. To fix this we should clear the display
          after each move and add a <i>shorter</i> pause. So after the <i>existing</i> <el-id>pause</el-id> instruction within <el-method>displayMove</el-method>
          add a call to <el-method>clearVectorGraphics</el-method> and follow this by a fixed pause of 1/10th of a second. Run again
          and check that any repeated moves are now distinct.
          <div class="hint" id="hint4e" data-hint="">Hint: Show the new instructions</el-method></div>
        <div class="content" id="hint4econtent">
            <el-code-block>
              <el-statement ><el-top><el-kw>call </el-kw><el-field><el-txt><el-method>clearVectorGraphics</el-method></el-txt></el-field>(<el-field class="empty optional ok"><el-txt></el-txt></el-field>)</el-top></el-statement>
              <el-statement ><el-top><el-kw>call </el-kw><el-field><el-txt><el-method>pause</el-method></el-txt></el-field>(<el-field class="optional ok"><el-txt><el-lit>100</el-lit></el-txt></el-field>)</el-top></el-statement>
            </el-code-block>
          </div>
          <div class="hint" id="hint4f" data-hint="">Hint: Show the whole procedure</el-method></div>
        <div class="content" id="hint4fcontent">
            <el-code-block>
              <el-proc class="ok multiline">
                <el-top><el-expand>+</el-expand><el-kw>procedure </el-kw><el-method><el-field><el-txt>displayMove</el-txt></el-field></el-method>(<el-field class="optional ok"><el-txt><el-id>move</el-id> <el-kw>as</el-kw> <el-type>Int</el-type>, <el-id>interval</el-id> <el-kw>as</el-kw> <el-type>Int</el-type></el-txt></el-field>)</el-top>
                <el-statement><el-kw>let </el-kw><el-field><el-txt><el-id>colours</el-id></el-txt></el-field><el-kw> be </el-kw><el-field><el-txt>[<el-id>red</el-id>, <el-id>yellow</el-id>, <el-id>blue</el-id>, <el-id>green</el-id>]</el-txt></el-field></el-statement>
                <el-statement><el-kw>let </el-kw><el-field><el-txt><el-id>circle</el-id></el-txt></el-field><el-kw> be </el-kw><el-field><el-txt><el-kw>new</el-kw> <el-type>CircleVG</el-type>()<el-kw> with </el-kw><br><el-id>centreX</el-id><el-kw> set to </el-kw><el-id>move</el-id>*<el-lit>20</el-lit> - <el-lit>5</el-lit>, <br><el-id>centreY</el-id><el-kw> set to </el-kw><el-lit>15</el-lit>, <br><el-id>radius</el-id><el-kw> set to </el-kw><el-lit>10</el-lit>, <br><el-id>strokeWidth</el-id><el-kw> set to </el-kw><el-lit>0</el-lit>, <br><el-id>fillColour</el-id><el-kw> set to </el-kw><el-id>colours</el-id>[<el-id>move</el-id> - <el-lit>1</el-lit>]</el-txt></el-field></el-statement>
                <el-statement><el-top><el-kw>call </el-kw><el-field><el-txt><el-method>displayVectorGraphics</el-method></el-txt></el-field>(<el-field class="optional ok"><el-txt>[<el-id>circle</el-id>]</el-txt></el-field>)</el-top></el-statement>
                <el-statement><el-top><el-kw>call </el-kw><el-field><el-txt><el-method>pause</el-method></el-txt></el-field>(<el-field class="optional ok"><el-txt><el-id>interval</el-id></el-txt></el-field>)</el-top></el-statement>
                <el-statement><el-top><el-kw>call </el-kw><el-field><el-txt><el-method>clearVectorGraphics</el-method></el-txt></el-field>(<el-field class="empty optional ok"><el-txt></el-txt></el-field>)</el-top></el-statement>
                <el-statement><el-top><el-kw>call </el-kw><el-field><el-txt><el-method>pause</el-method></el-txt></el-field>(<el-field class="optional ok"><el-txt><el-lit>100</el-lit></el-txt></el-field>)</el-top></el-statement>
                <el-kw>end procedure</el-kw>
                </el-proc>
            </el-code-block>
          </div>
        </li>
    </ul>
    <label class="done" for="done4">Step completed</label>
  <input type="checkbox" class="step-complete" id="done4"/>
<span> Total hints used: <span class="hints-taken"></span>/<span class="hints-total"></span></span>
</div>

  <div class="step"  id="step5">
    <h3>Iteration 5: Add sound</h3>

    <ul>
      <li>Edit <i>both</i> fields of the instruction <el-code><el-kw>call </el-kw><el-method>pause</el-method>(<el-id>interval</el-id>)</el-code> so that it reads
        <el-code-block>
          <el-kw>call </el-kw><el-method>tone</el-method>(<el-id>interval</el-id>, <el-lit>256</el-lit>, <el-lit>0.1</el-lit>)
        </el-code-block>
      which instead of just pausing, plays a tone for the same interval. The second argument defines the frequency of the tone - in
      this case 256Hz, which musicians might recognise as 'middle C'. The third argument specifies the volume. Run the program.
      If you do not hear any tones, investigate the sound settings on your computer. Then adjust the value up or down from <el-lit>0.1</el-lit>,
      but <b>please, if you are working in a classroom set the volume to the lowest setting where you can still just hear the tones.</b>
      <li>Just as the four moves are represented by different colours, in different locations, they
        should also have different tones. The original Simon game used four musical notes - E, A, C#, and E (one octave higher) -
        such that they would combine in any order for a pleasing effect. The frequencies, in Hz, for these four notes are: 164.81, 220, 277.18, and 329.63
        (<a href="https://en.wikipedia.org/wiki/Piano_key_frequencies" target="_blank">source reference</a>).
        Earlier, you defined a list of colours. Now, just under that definition of colours, create a similar definition named
        <el-id>tones</el-id> (with an 's') and containing the four numeric values just given. Then, just as you earlier used
        <el-code><el-id>colours</el-id>[<el-id>move</el-id> - <el-lit>1</el-lit>]</el-code> to get the colour corresponding to the <el-id>move</el-id>,
        in the call to the <el-method>tone</el-method> procedure,
        replace the specific value of <el-lit>256</el-lit> with code to get the tone corresponding to the <el-id>move</el-id>.
        Then run the program to verify that you now hear a sequence of tones.
      </li>
    </ul>

    <div class="hint" id="hint5a" data-hint="">Hint 1: the new and modified instructions</div>
        <div class="content" id="hint5acontent">
      <el-code-block>
          <el-statement><el-kw>let </el-kw><el-field><el-txt><el-id>tones</el-id></el-txt></el-field><el-kw> be </el-kw><el-field><el-txt>[<el-lit><el-lit>164</el-lit>.81</el-lit>, <el-lit>220</el-lit>, <el-lit><el-lit>277</el-lit>.18</el-lit>, <el-lit><el-lit>329</el-lit>.63</el-lit>]</el-txt></el-field></el-statement>
          <el-statement>...</el-statement>
          <el-statement><el-top><el-kw>call </el-kw><el-field><el-txt><el-method>tone</el-method></el-txt></el-field>(<el-field class="optional ok"><el-txt><el-id>interval</el-id>, <el-id>tones</el-id>[<el-id>move</el-id> - <el-lit>1</el-lit>], <el-lit><el-lit>0</el-lit>.1</el-lit></el-txt></el-field>)</el-top></el-statement>
        </el-proc>
      </el-code-block>
    </div>

    <div class="hint" id="hint5b" data-hint="">Hint 2: complete procedure</div>
        <div class="content" id="hint5bcontent">
      <el-code-block>
        <el-proc class="ok multiline">
          <el-top><el-expand>+</el-expand><el-kw>procedure </el-kw><el-method>displayMove</el-method>(<el-field class="optional ok"><el-txt><el-id>move</el-id> <el-kw>as</el-kw> <el-type>Int</el-type>, <el-id>interval</el-id> <el-kw>as</el-kw> <el-type>Int</el-type></el-txt></el-field>)</el-top>
          <el-statement><el-kw>let </el-kw><el-field><el-txt><el-id>colours</el-id></el-txt></el-field><el-kw> be </el-kw><el-field><el-txt>[<el-id>red</el-id>, <el-id>yellow</el-id>, <el-id>blue</el-id>, <el-id>green</el-id>]</el-txt></el-field></el-statement>
          <el-statement><el-kw>let </el-kw><el-field><el-txt><el-id>tones</el-id></el-txt></el-field><el-kw> be </el-kw><el-field><el-txt>[<el-lit><el-lit>164</el-lit>.81</el-lit>, <el-lit>220</el-lit>, <el-lit><el-lit>277</el-lit>.18</el-lit>, <el-lit><el-lit>329</el-lit>.63</el-lit>]</el-txt></el-field></el-statement>
          <el-statement><el-kw>let </el-kw><el-field><el-txt><el-id>circle</el-id></el-txt></el-field><el-kw> be </el-kw><el-field><el-txt><el-kw>new</el-kw> <el-type>CircleVG</el-type>()<el-kw> with </el-kw><br><el-id>centreX</el-id><el-kw> set to </el-kw><el-id>move</el-id>*<el-lit>20</el-lit> - <el-lit>5</el-lit>, <br><el-id>centreY</el-id><el-kw> set to </el-kw><el-lit>15</el-lit>, <br><el-id>radius</el-id><el-kw> set to </el-kw><el-lit>10</el-lit>, <br><el-id>strokeWidth</el-id><el-kw> set to </el-kw><el-lit>0</el-lit>, <br><el-id>fillColour</el-id><el-kw> set to </el-kw><el-id>colours</el-id>[<el-id>move</el-id> - <el-lit>1</el-lit>]</el-txt></el-field></el-statement>
          <el-statement><el-top><el-kw>call </el-kw><el-field><el-txt><el-method>displayVectorGraphics</el-method></el-txt></el-field>(<el-field class="optional ok"><el-txt>[<el-id>circle</el-id>]</el-txt></el-field>)</el-top></el-statement>
          <el-statement><el-top><el-kw>call </el-kw><el-field><el-txt><el-method>tone</el-method></el-txt></el-field>(<el-field class="optional ok"><el-txt><el-id>interval</el-id>, <el-id>tones</el-id>[<el-id>move</el-id> - <el-lit>1</el-lit>], <el-lit><el-lit>0</el-lit>.1</el-lit></el-txt></el-field>)</el-top></el-statement>
          <el-statement><el-top><el-kw>call </el-kw><el-field><el-txt><el-method>clearVectorGraphics</el-method></el-txt></el-field>(<el-field class="empty optional ok"><el-txt></el-txt></el-field>)</el-top></el-statement>
          <el-statement><el-top><el-kw>call </el-kw><el-field><el-txt><el-method>pause</el-method></el-txt></el-field>(<el-field class="optional ok"><el-txt><el-lit>100</el-lit></el-txt></el-field>)</el-top></el-statement>
          <el-kw>end procedure</el-kw>
        </el-proc>
      </el-code-block>
    </div>

    <label class="done" for="done5">Step completed</label>
  <input type="checkbox" class="step-complete" id="done5" />
<span> Total hints used: <span class="hints-taken"></span>/<span class="hints-total"></span></span>
</div>

<div class="step" id="step6">
    <h3>Iteration 6: Build the random sequence</h3>
    <ul>
      <li>To append a value to a list we call the <el-method>append</el-method> procedure on the list (as a 'dotted method'). So,
        within <el-kw>main</el-kw>, immediately after the <el-id>sequence</el-id> has been defined, write an instruction to append
        the value 4 to that list. The run the program and check that the new move was added to the sequence
      <div class="hint" id="hint6a">Hint: the new instruction</div>
      <div class="content" id="hint6acontent">
        <el-code-block>
          <el-statement><el-top><el-kw>call </el-kw><el-field><el-txt><el-id>sequence</el-id>.<el-method>append</el-method></el-txt></el-field>(<el-field class="optional ok"><el-txt><el-lit>4</el-lit></el-txt></el-field>)</el-top></el-statement>
        </el-code-block>
      </div>
      </li>
      <li>Now change that new instruction so that instead of appending a specific value, it appends a new random integer
        in the range 1-4. Run the program a few times to check that the final move is unpredictable.
        <div class="hint" id="hint6b">Hint 1: expression to generate the random number</div>
        <div class="content" id="hint6bcontent">
          <el-code-block>
            <el-method>randomInt</el-method>(<el-lit>1</el-lit>, <el-lit>4</el-lit>)
          </el-code-block>
        </div>
        <div class="hint" id="hint6c">Hint2: the complete changed instruction</div>
        <div class="content" id="hint6ccontent">
          <el-code-block>
            <el-statement><el-top><el-kw>call </el-kw><el-field><el-txt><el-id>sequence</el-id>.<el-method>append</el-method></el-txt></el-field>(<el-field class="optional ok"><el-txt><el-method>randomInt</el-method>(<el-lit>1</el-lit>, <el-lit>4</el-lit>)</el-txt></el-field>)</el-top></el-statement>
          </el-code-block>
        </div>
      </li>
      <li>Now we will do this repeatedly. Underneath the instruction just added (and above the <el-kw>each</el-kw>), add a loop that
        will execute exactly 5 times, and then cut the instruction doing the <el-method>append</el-method>
        and paste it <i>inside</i> that loop. Run the program to check that the sequence now has five random moves after the fixed initial sequence.
        <div class="hint" id="hint6d">Hint 1: the loop</div>
        <div class="content" id="hint6dcontent">
          <ul>
            <li>Use a <el-kw>for</el-kw> loop to execute something a fixed number of times. </li>
            <li>For the counter use a short name that hasn't been used elsewhere - for example <el-id>n</el-id></li>
          </ul>
        </div>
        <div class="hint" id="hint6e">Hint 2: The complete revised <el-kw>main</el-kw></div>
        <div class="content" id="hint6econtent">
          <el-code-block>
            <main class="ok multiline" id="main3">
              <el-top><el-expand>+</el-expand><el-kw>main</el-kw></el-top>
              <el-statement><el-kw>variable </el-kw><el-field><el-txt><el-id>interval</el-id></el-txt></el-field><el-kw> set to </el-kw><el-field><el-txt><el-lit>1000</el-lit></el-txt></el-field></el-statement>
              <el-statement><el-kw>let </el-kw><el-field><el-txt><el-id>sequence</el-id></el-txt></el-field><el-kw> be </el-kw><el-field><el-txt>[<el-lit>3</el-lit>, <el-lit>4</el-lit>, <el-lit>1</el-lit>, <el-lit>1</el-lit>, <el-lit>2</el-lit>]</el-txt></el-field></el-statement>
              <el-statement class="ok multiline">
              <el-top><el-expand>+</el-expand><el-kw>for </el-kw><el-field><el-txt><el-id>n</el-id></el-txt></el-field><el-kw> from </el-kw><el-field><el-txt><el-lit>1</el-lit></el-txt></el-field><el-kw> to </el-kw><el-field><el-txt><el-lit>5</el-lit></el-txt></el-field><el-kw> step </el-kw><el-field><el-txt><el-lit>1</el-lit></el-txt></el-field></el-top>
              <el-statement><el-top><el-kw>call </el-kw><el-field><el-txt><el-id>sequence</el-id>.<el-method>append</el-method></el-txt></el-field>(<el-field class="optional ok"><el-txt><el-method>randomInt</el-method>(<el-lit>1</el-lit>, <el-lit>4</el-lit>)</el-txt></el-field>)</el-top></el-statement>
              <el-kw>end for</el-kw>
              </el-statement>
              <el-statement class="ok multiline">
              <el-top><el-expand>+</el-expand><el-kw>each </el-kw><el-field><el-txt><el-id>move</el-id></el-txt></el-field><el-kw> in </el-kw><el-field><el-txt><el-id>sequence</el-id></el-txt></el-field></el-top>
              <el-statement><el-top><el-kw>call </el-kw><el-field><el-txt><el-method>displayMove</el-method></el-txt></el-field>(<el-field class="optional ok"><el-txt><el-id>move</el-id>, <el-id>interval</el-id></el-txt></el-field>)</el-top></el-statement>
              <el-kw>end each</el-kw>
              </el-statement>
              <el-kw>end main</el-kw>
              </main>
          </el-code-block>
        </div>
      </li>
      <li>Now that we can generate multiple random moves, we should start from an empty list.
        Find the instruction (within <el-kw>main</el-kw>) that defines the initial list. We can't just
        reduce the list to empty square brackets <el-code>[]</el-code> - because then Elan doesn't know what type of element
        the list is intended to hold. So instead change the value to: <el-code><el-kw>empty </el-kw><el-type>List</el-type>&lt;<el-kw>of</el-kw> <el-type>Int</el-type>&gt;</el-code>
        Then run the program and test that it generates a sequence of five random moves.</li>
        <div class="hint" id="hint6f">Hint 1: complete revised <el-kw>main</el-kw></div>
        <div class="content" id="hint6fcontent">
          <el-code-block>
            <main class="ok multiline" id="main1">
              <el-top><el-expand>+</el-expand><el-kw>main</el-kw></el-top>
              <el-statement><el-kw>variable </el-kw><el-field><el-txt><el-id>interval</el-id></el-txt></el-field><el-kw> set to </el-kw><el-field><el-txt><el-lit>1000</el-lit></el-txt></el-field></el-statement>
              <el-statement><el-kw>let </el-kw><el-field><el-txt><el-id>sequence</el-id></el-txt></el-field><el-kw> be </el-kw><el-field><el-txt><el-kw>empty</el-kw> <el-type>List</el-type>&lt;<el-kw>of</el-kw> <el-type>Int</el-type>&gt;</el-txt></el-field></el-statement>
              <el-statement class="ok multiline">
              <el-top><el-expand>+</el-expand><el-kw>for </el-kw><el-field><el-txt><el-id>n</el-id></el-txt></el-field><el-kw> from </el-kw><el-field><el-txt><el-lit>1</el-lit></el-txt></el-field><el-kw> to </el-kw><el-field><el-txt><el-lit>5</el-lit></el-txt></el-field><el-kw> step </el-kw><el-field><el-txt><el-lit>1</el-lit></el-txt></el-field></el-top>
              <el-statement><el-top><el-kw>call </el-kw><el-field><el-txt><el-id>sequence</el-id>.<el-method>append</el-method></el-txt></el-field>(<el-field class="optional ok"><el-txt><el-method>randomInt</el-method>(<el-lit>1</el-lit>, <el-lit>4</el-lit>)</el-txt></el-field>)</el-top></el-statement>
              <el-kw>end for</el-kw>
              </el-statement>
              <el-statement class="ok multiline">
              <el-top><el-expand>+</el-expand><el-kw>each </el-kw><el-field><el-txt><el-id>move</el-id></el-txt></el-field><el-kw> in </el-kw><el-field><el-txt><el-id>sequence</el-id></el-txt></el-field></el-top>
              <el-statement><el-top><el-kw>call </el-kw><el-field><el-txt><el-method>displayMove</el-method></el-txt></el-field>(<el-field class="optional ok"><el-txt><el-id>move</el-id>, <el-id>interval</el-id></el-txt></el-field>)</el-top></el-statement>
              <el-kw>end each</el-kw>
              </el-statement>
              <el-kw>end main</el-kw>
              </main>
          </el-code-block>
        </div>
      </li>
      </ul>
      <label class="done" for="done6">Step completed</label>
  <input type="checkbox" class="step-complete" id="done6" />
<span> Total hints used: <span class="hints-taken"></span>/<span class="hints-total"></span></span>
</div>

  <div class="step" id="step7">
      <h3>Iteration 7: Create the simonsTurn procedure</h3>
      <p>Now we're ready to complete the role of Simon (played by the computer) in the game, which is to repeatedly play a sequence of moves, adding
        a new random move each time. (We will later add the Player's role, interleaving between these plays). To keep the growing
        program easy to read, we will build the Simon's role into a new procedure.
      </p>
      <ul>
        <li>Create a new procedure named <el-method>simonsTurn</el-method> we suggest just after <el-kw>main</el-kw>
          (though, actually, it doesn't matter what order 'global' instructions like <el-kw>main</el-kw> and <el-kw>procedure</el-kw>s are defined)
          and define parameters for the information it is going to need:
          <el-code-block>
            <el-field><el-txt><el-id>sequence</el-id> <el-kw>as</el-kw> <el-type>List</el-type>&lt;<el-kw>of</el-kw> <el-type>Int</el-type>&gt;, <el-id>interval</el-id> <el-kw>as</el-kw> <el-type>Int</el-type></el-txt></el-field>
          </el-code-block>
          noting that whenever a List or Array is passed into a procedure as a parameter, the type of the elements
        in the list must be specified in the form shown.</li>
        <li>Cut and paste the instruction that does the <el-method>append</el-method> out of its <el-kw>for</el-kw> loop and into
          the new procedure, and follow this by cutting and pastint the whole of the <el-kw>each</el-kw> loop to follow the <el-method>append</el-method>.

        <div class="hint" id="hint7b">Hint: Abbreviated instructions in the new procedure</div>
        <div class="content" id="hint7bcontent">
          <el-code-block>
            <el-proc class="ok multiline">
              <el-top><el-expand>+</el-expand><el-kw>procedure </el-kw><el-method><el-field><el-txt>simonsTurn</el-txt></el-field></el-method>(<el-field class="optional ok"><el-txt><el-id>sequence</el-id> <el-kw>as</el-kw> <el-type>List</el-type>&lt;<el-kw>of</el-kw> <el-type>Int</el-type>&gt;, <el-id>interval</el-id> <el-kw>as</el-kw> <el-type>Int</el-type></el-txt></el-field>)</el-top>
              <el-statement><el-top><el-kw>call </el-kw></el-statement>
              <el-statement class="ok multiline">
              <el-top><el-expand>+</el-expand><el-kw>each </el-kw></el-top>
              <el-statement><el-top><el-kw>call </el-kw></el-statement>
              <el-kw>end each</el-kw>
              </el-statement>
              <el-kw>end procedure</el-kw>
              </el-proc>
          </el-code-block>
        </div>
        <div class="hint" id="hint7b">Hint: The complete procedure</div>
        <div class="content" id="hint7bcontent">
          <el-code-block>
            <el-proc class="ok multiline">
              <el-top><el-expand>+</el-expand><el-kw>procedure </el-kw><el-method><el-field><el-txt>simonsTurn</el-txt></el-field></el-method>(<el-field class="optional ok"><el-txt><el-id>sequence</el-id> <el-kw>as</el-kw> <el-type>List</el-type>&lt;<el-kw>of</el-kw> <el-type>Int</el-type>&gt;, <el-id>interval</el-id> <el-kw>as</el-kw> <el-type>Int</el-type></el-txt></el-field>)</el-top>
              <el-statement><el-top><el-kw>call </el-kw><el-field><el-txt><el-id>sequence</el-id>.<el-method>append</el-method></el-txt></el-field>(<el-field class="optional ok"><el-txt><el-method>randomInt</el-method>(<el-lit>1</el-lit>, <el-lit>4</el-lit>)</el-txt></el-field>)</el-top></el-statement>
              <el-statement class="ok multiline">
              <el-top><el-expand>+</el-expand><el-kw>each </el-kw><el-field><el-txt><el-id>move</el-id></el-txt></el-field><el-kw> in </el-kw><el-field><el-txt><el-id>sequence</el-id></el-txt></el-field></el-top>
              <el-statement><el-top><el-kw>call </el-kw><el-field><el-txt><el-method>displayMove</el-method></el-txt></el-field>(<el-field class="optional ok"><el-txt><el-id>move</el-id>, <el-id>interval</el-id></el-txt></el-field>)</el-top></el-statement>
              <el-kw>end each</el-kw>
              </el-statement>
              <el-kw>end procedure</el-kw>
              </el-proc>
          </el-code-block>
        </div>
      </li>
        <li>Go back to the (now empty) <el-kw>for</el-kw> loop within the main, and define three new instructions (in the order listed here):
        <ul>
          <li>a new instruction to call <el-method>simonsTurn</el-method>,
            passing in the named values corresponding to the two arguments it will require.</li>
          <li>an instruction to clear the vector graphics (you have already done this somewhere else in the code).</li>
          <li>an instruction to pause for a full second (at the end of the sequence).</li>
        </ul></li>
        <li>Run the program the program and test that it plays a growing sequence, one move, then two moves, up to five moves, with
        a one second pause between.</li>
        <div class="hint" id="hint7d">Hint: The revised main</div>
        <div class="content" id="hint7dcontent">
          <el-code-block>
            <main class="ok multiline" id="main1">
              <el-top><el-expand>+</el-expand><el-kw>main</el-kw></el-top>
              <el-statement><el-kw>variable </el-kw><el-field><el-txt><el-id>interval</el-id></el-txt></el-field><el-kw> set to </el-kw><el-field><el-txt><el-lit>1000</el-lit></el-txt></el-field></el-statement>
              <el-statement><el-kw>let </el-kw><el-field><el-txt><el-id>sequence</el-id></el-txt></el-field><el-kw> be </el-kw><el-field><el-txt><el-kw>empty</el-kw> <el-type>List</el-type>&lt;<el-kw>of</el-kw> <el-type>Int</el-type>&gt;</el-txt></el-field></el-statement>
              <el-statement class="ok multiline">
              <el-top><el-expand>+</el-expand><el-kw>for </el-kw><el-field><el-txt><el-id>n</el-id></el-txt></el-field><el-kw> from </el-kw><el-field><el-txt><el-lit>1</el-lit></el-txt></el-field><el-kw> to </el-kw><el-field><el-txt><el-lit>5</el-lit></el-txt></el-field><el-kw> step </el-kw><el-field><el-txt><el-lit>1</el-lit></el-txt></el-field></el-top>
              <el-statement><el-top><el-kw>call </el-kw><el-field><el-txt><el-method>simonsTurn</el-method></el-txt></el-field>(<el-field class="optional ok"><el-txt><el-id>sequence</el-id>, <el-id>interval</el-id></el-txt></el-field>)</el-top></el-statement>
              <el-statement><el-top><el-kw>call </el-kw><el-field><el-txt><el-method>clearVectorGraphics</el-method></el-txt></el-field>(<el-field class="empty optional ok"><el-txt></el-txt></el-field>)</el-top></el-statement>
              <el-statement><el-top><el-kw>call </el-kw><el-field><el-txt><el-method>pause</el-method></el-txt></el-field>(<el-field class="optional ok"><el-txt><el-lit>1000</el-lit></el-txt></el-field>)</el-top></el-statement>
              <el-kw>end for</el-kw>
              </el-statement>
              <el-kw>end main</el-kw>
            </main>
          </el-code-block>
        </div>
    </li>
      </ul>

    <label class="done" for="done7">Step completed</label>
  <input type="checkbox" class="step-complete" id="done7"/>
<span> Total hints used: <span class="hints-taken"></span>/<span class="hints-total"></span></span>
</div>

  <div class="step" id="step8">
    <h3>Iteration 8: Start work on Player's turn</h3>
    <ul>
    <li>We're now ready to make a start on the player's turn. Create a new procedure
      named <el-method>playersTurn</el-method> (located underneath <el-method>simonsTurn</el-method> ), and initially defining exactly
    the same parameters as for <el-method>simonsTurn</el-method>.</li>
    <li>Now we need a way to detect a single key stroke, while the programming is running. You might or might not have already
      used an <el-method>input</el-method> method, but that would also require <b>Enter</b> to be pressed after each key
      which would be cumbersome in the game Simon. So instead add these two instructions within <el-method>playersTurn</el-method>:
      <el-code-block>
        <el-statement><el-kw>let </el-kw><el-field><el-txt><el-id>k</el-id></el-txt></el-field><el-kw> be </el-kw><el-field><el-txt><el-method>waitForKey</el-method>()</el-txt></el-field></el-statement>
        <el-statement><el-kw>let </el-kw><el-field><el-txt><el-id>valid</el-id>, <el-id>move</el-id></el-txt></el-field><el-kw> be </el-kw><el-field><el-txt><el-method>parseAsInt</el-method>(<el-id>k</el-id>)</el-txt></el-field></el-statement>
      </el-code-block>
      The intent of the first instruction should be fairly clear, but what is the second one for? Why couldn't we just write, say:
      <el-code-block>
        <el-statement><el-kw>let </el-kw><el-field><el-txt><el-id>move</el-id></el-txt></el-field><el-kw> be </el-kw><el-field><el-txt><el-method>waitForKey</el-method>()</el-txt></el-field></el-statement>
      </el-code-block>
      The problem is that if you press, say, the <b>1</b> key, the <el-method>waitForKey</el-method> method returns a single-character
      <i>string</i> - equivalent to this instruction, say:<el-code-block>
        <el-statement><el-kw>let </el-kw><el-field><el-txt><el-id>k</el-id></el-txt></el-field><el-kw> be </el-kw><el-field><el-txt>"<el-lit>1</el-lit>"</el-txt></el-field></el-statement>
      </el-code-block>
      but we really need it <i>as an integer value</i> so that we can compare it to the integer values stored in <el-id>sequence</el-id>.
      <el-method>parseAsInt</el-method> takes a string argument and attempts to turn it into an <i>integer</i> value.
      The problem then is: what would happen if you had inadvertently pressed the <b>q</b> key underneath
       the <b>1</b>? That can't be be converted into an integer - which would cause the whole program to fail
        with a 'run time error'.
      To handle this scenario the <el-method>parseAsInt</el-method> actually returns two values: the first
      is a Boolean value (<el-id>true</el-id>/<el-id>false</el-id>)  that tells us whether or not the given string successfully parsed into an integer.
       If it <i>did</i> (i.e. the first returned value is <el-id>true</el-id>) then the second value will hold the integer.
       If the first returned value is <el-id>false</el-id> then the second value should be ignored - as it will be meaningless.
       Our instruction names these two returned values <el-id>valid</el-id> and <el-id>move</el-id> respectively.</li>
    <li>So, to use this information add a third instruction within <el-method>playersTurn</el-method>, an <el-kw>if</el-kw> instruction
    that uses <el-id>valid</el-id> as its condition. (You <i>could</i> make the condition <el-id>valid</el-id><el-kw> is </el-kw><el-id>true</el-id>
    and that would work, but it would be 'redundant code' because <el-id>valid</el-id> is itself always either <el-id>true</el-id> or <el-id>false</el-id>.)
    <i>Within</i> the <el-kw>if</el-kw> call <el-method>displayMove</el-method> exactly the same as you did within <el-method>simonsTurn</el-method>.

    <div class="hint" id="hint8a">Hint: The full <el-kw>if</el-kw> instruction.</div>
    <div class="content" id="hint8acontent">
      <el-code-block>
        <el-statement class="ok multiline">
          <el-top><el-expand>+</el-expand><el-kw>if </el-kw><el-field><el-txt><el-id>valid</el-id></el-txt></el-field><el-kw> then</el-kw></el-top>
          <el-statement><el-top><el-kw>call </el-kw><el-field><el-txt><el-method>displayMove</el-method></el-txt></el-field>(<el-field class="optional ok"><el-txt><el-id>move</el-id>, <el-id>interval</el-id></el-txt></el-field>)</el-top></el-statement>
          <el-kw>end if</el-kw>
        </el-statement>
      </el-code-block>
    </div>
    <div class="hint" id="hint8b">Hint: The full <el-method>playersTurn</el-method> procedure so far.</div>
    <div class="content" id="hint8bcontent">
      <el-code-block>
        <el-proc class="ok multiline">
          <el-top><el-expand>+</el-expand><el-kw>procedure </el-kw><el-method>playersTurn</el-method>(<el-field class="optional ok"><el-txt><el-id>sequence</el-id> <el-kw>as</el-kw> <el-type>List</el-type>&lt;<el-kw>of</el-kw> <el-type>Int</el-type>&gt;, <el-id>interval</el-id> <el-kw>as</el-kw> <el-type>Int</el-type></el-txt></el-field>)</el-top>
          <el-statement><el-kw>let </el-kw><el-field><el-txt><el-id>k</el-id></el-txt></el-field><el-kw> be </el-kw><el-field><el-txt><el-method>waitForKey</el-method>()</el-txt></el-field></el-statement>
          <el-statement><el-kw>let </el-kw><el-field><el-txt><el-id>valid</el-id>, <el-id>move</el-id></el-txt></el-field><el-kw> be </el-kw><el-field><el-txt><el-method>parseAsInt</el-method>(<el-id>k</el-id>)</el-txt></el-field></el-statement>
          <el-statement class="ok multiline">
          <el-top><el-expand>+</el-expand><el-kw>if </el-kw><el-field><el-txt><el-id>valid</el-id></el-txt></el-field><el-kw> then</el-kw></el-top>
          <el-statement><el-top><el-kw>call </el-kw><el-field><el-txt><el-method>displayMove</el-method></el-txt></el-field>(<el-field class="optional ok"><el-txt><el-id>move</el-id>, <el-id>interval</el-id></el-txt></el-field>)</el-top></el-statement>
          <el-kw>end if</el-kw>
          </el-statement>
          <el-kw>end procedure</el-kw>
          </el-proc>
      </el-code-block>
    </div>
  </li>

  </li>
    <li><el-method>playersTurn</el-method> is far from complete - but to test that it works at all, go back to the <el-kw>for</el-kw>
    loop in <el-kw>main</el-kw>, and add a last instruction to call <el-method>playersTurn</el-method> passing the same arguments as to
    <el-method>simonsTurn</el-method> above it.
    <div class="hint" id="hint8c">Hint: The modified <el-kw>main</el-kw>.</div>
    <div class="content" id="hint8ccontent">
      <el-code-block>
        <main class="ok multiline" id="main1">
          <el-top><el-expand>+</el-expand><el-kw>main</el-kw></el-top>
          <el-statement><el-kw>variable </el-kw><el-field><el-txt><el-id>interval</el-id></el-txt></el-field><el-kw> set to </el-kw><el-field><el-txt><el-lit>1000</el-lit></el-txt></el-field></el-statement>
          <el-statement><el-kw>let </el-kw><el-field><el-txt><el-id>sequence</el-id></el-txt></el-field><el-kw> be </el-kw><el-field><el-txt><el-kw>empty</el-kw> <el-type>List</el-type>&lt;<el-kw>of</el-kw> <el-type>Int</el-type>&gt;</el-txt></el-field></el-statement>
          <el-statement class="ok multiline">
          <el-top><el-expand>+</el-expand><el-kw>for </el-kw><el-field><el-txt><el-id>n</el-id></el-txt></el-field><el-kw> from </el-kw><el-field><el-txt><el-lit>1</el-lit></el-txt></el-field><el-kw> to </el-kw><el-field><el-txt><el-lit>5</el-lit></el-txt></el-field><el-kw> step </el-kw><el-field><el-txt><el-lit>1</el-lit></el-txt></el-field></el-top>
          <el-statement><el-top><el-kw>call </el-kw><el-field><el-txt><el-method>simonsTurn</el-method></el-txt></el-field>(<el-field class="optional ok"><el-txt><el-id>sequence</el-id>, <el-id>interval</el-id></el-txt></el-field>)</el-top></el-statement>
          <el-statement><el-top><el-kw>call </el-kw><el-field><el-txt><el-method>clearVectorGraphics</el-method></el-txt></el-field>(<el-field class="empty optional ok"><el-txt></el-txt></el-field>)</el-top></el-statement>
          <el-statement><el-top><el-kw>call </el-kw><el-field><el-txt><el-method>pause</el-method></el-txt></el-field>(<el-field class="optional ok"><el-txt><el-lit>1000</el-lit></el-txt></el-field>)</el-top></el-statement>
          <el-statement><el-top><el-kw>call </el-kw><el-field><el-txt><el-method>playersTurn</el-method></el-txt></el-field>(<el-field class="optional ok"><el-txt><el-id>sequence</el-id>, <el-id>interval</el-id></el-txt></el-field>)</el-top></el-statement>
          <el-kw>end for</el-kw>
          </el-statement>
          <el-kw>end main</el-kw>
        </main>
      </el-code-block>
    </div>
    </li>
    <li>Run the program. Simon should play a sequence (initially just one move) and then do nothing until
      you press <i>any</i> of the keys <b>1 - 4</b> - which should then immediately initiate Simon's turn. <i>Stop the
        program at that point.</i>
      </i>
    </li>
    </ul>
    <label class="done" for="done8">Step completed</label>
  <input type="checkbox" class="step-complete" id="done8"/>
<span> Total hints used: <span class="hints-taken"></span>/<span class="hints-total"></span></span>
</div>

  <div class="step" id="step9">
    <h3>Iteration 9: Require the player to reproduce the whole sequence</h3>
    <p>We now need a loop that requires the player to reproduce each move in the sequence.
      We can determine the length of the sequence using
      <el-code><el-id>sequence</el-id>.<el-method>length</el-method>()</el-code>, which might
      suggest using a <el-kw>for</el-kw>, or an <el-kw>each</el-kw> loop. The problem
      is that if the user makes a mistake (enters the wrong move, or a key that isn't a valid move)
      that's game over: we don't want to continue with the loop. So when the number of iterations
      through the loop is <i>not</i> fixed up-front we must use a 'conditional
      loop'. The condition for the loop continuing is that the user has hit the correct keys <i>so far</i>
      and that they haven't yet got to the end of the sequence.
    </p>
    <ul>
      <li>At the start of <el-method>playersTurn</el-method>, define two <i>variables</i>: <el-id>counter</el-id> initialised to zero, and
        <el-id>correctSoFar</el-id> (meaning that the player's sequence is correct <i>so far</i>) initialised to <el-id>true</el-id> -
        as the player hasn't had any chance to make a mistake yet!</li>
      <li>Follow these with a <el-kw>while</el-kw> loop, defining its <el-code><i>condition</i></el-code> field as follows:
      <el-code-block>
        <el-txt>(<el-id>counter</el-id> &lt; <el-id>sequence</el-id>.<el-method>length</el-method>())<el-kw> and </el-kw><el-id>correctSoFar</el-id></el-txt>
      </el-code-block>
      noting the use of brackets to specify operator priority. This is almost always necessary
    when you combined <i>logical</i> operators (<el-kw>and</el-kw>, <el-kw>or</el-kw>, <el-kw>not</el-kw> with
    <i>comparison</i> operators (<el-kw>is</el-kw>, <el-kw>isnt</el-kw>, <el-code>&gt</el-code>, etc).</li>
      <li>Cut and paste all the instructions remaining below it (within <el-method>playersTurn</el-method>) into the <el-kw>while</el-kw> loop.</li>
      <li>Add a new <i>last</i> instruction within the loop, add one to the existing value of <el-id>counter</el-id>.</li>
      <div class="hint" id="hint9a">Hint: Complete revised <el-method>playersTurn</el-method> procedure</div>
      <div class="content" id="hint9acontent">
        <el-code-block>
          <el-proc class="ok multiline">
            <el-top><el-expand>+</el-expand><el-kw>procedure </el-kw><el-method>playersTurn</el-method>(<el-field class="optional ok"><el-txt><el-id>sequence</el-id> <el-kw>as</el-kw> <el-type>List</el-type>&lt;<el-kw>of</el-kw> <el-type>Int</el-type>&gt;, <el-id>interval</el-id> <el-kw>as</el-kw> <el-type>Int</el-type></el-txt></el-field>)</el-top>
            <el-statement><el-kw>variable </el-kw><el-field><el-txt><el-id>counter</el-id></el-txt></el-field><el-kw> set to </el-kw><el-field><el-txt><el-lit>0</el-lit></el-txt></el-field></el-statement>
            <el-statement><el-kw>variable </el-kw><el-field><el-txt><el-id>correctSoFar</el-id></el-txt></el-field><el-kw> set to </el-kw><el-field><el-txt><el-id>true</el-id></el-txt></el-field></el-statement>
            <el-statement class="ok multiline">
            <el-top><el-expand>+</el-expand><el-kw>while </el-kw><el-field><el-txt>(<el-id>counter</el-id> &lt; <el-id>sequence</el-id>.<el-method>length</el-method>())<el-kw> and </el-kw><el-id>correctSoFar</el-id></el-txt></el-field></el-top>
            <el-statement><el-kw>let </el-kw><el-field><el-txt><el-id>k</el-id></el-txt></el-field><el-kw> be </el-kw><el-field><el-txt><el-method>waitForKey</el-method>()</el-txt></el-field></el-statement>
            <el-statement><el-kw>let </el-kw><el-field><el-txt><el-id>valid</el-id>, <el-id>move</el-id></el-txt></el-field><el-kw> be </el-kw><el-field><el-txt><el-method>parseAsInt</el-method>(<el-id>k</el-id>)</el-txt></el-field></el-statement>
            <el-statement class="ok multiline">
            <el-top><el-expand>+</el-expand><el-kw>if </el-kw><el-field><el-txt><el-id>valid</el-id></el-txt></el-field><el-kw> then</el-kw></el-top>
            <el-statement><el-top><el-kw>call </el-kw><el-field><el-txt><el-method>displayMove</el-method></el-txt></el-field>(<el-field class="optional ok"><el-txt><el-id>move</el-id>, <el-id>interval</el-id></el-txt></el-field>)</el-top></el-statement>
            <el-kw>end if</el-kw>
            </el-statement>
            <el-statement><el-kw>set </el-kw><el-field><el-txt><el-id>counter</el-id></el-txt></el-field><el-kw> to </el-kw><el-field><el-txt><el-id>counter</el-id> + <el-lit>1</el-lit></el-txt></el-field></el-statement>
            <el-kw>end while</el-kw>
            </el-statement>
            <el-kw>end procedure</el-kw>
          </el-proc>
        </el-code-block>
      </div>
    </li>
    <li>Run the program. Simon will make a move then pause for you to enter the same sequence (1 move).
      Note that it isn't <i>yet</i> checking whether you pressed the <i>correct</i> key!
      Pressing any key (1 -4) will pass for now. Then simon will make two moves, and you must enter two moves, and so on...
      Play just up to a sequence of three moves, say - then <b>Stop</b> the program.</li>
    <li>Now we'll check the correctness of the player's sequence. Find the <el-kw>if</el-kw>
    instruction, and change the condition from just <el-id>valid</el-id> to
    <el-code-block>
      <el-txt><el-id>valid</el-id><el-kw> and </el-kw>(<el-id>sequence</el-id>[<el-id>counter</el-id>]<el-kw> is </el-kw><el-id>move</el-id>)</el-txt>
    </el-code-block>
    again noting the use of brackets to specify operator priority.
    </li>
    <li>Within the <el-kw>if</el-kw>, add an <el-kw>else</el-kw> clause <i>after</i> the call to <el-method>displayMove</el-method>
    and underneath the <el-kw>else</el-kw>, set the value of <el-id>correctSoFar</el-id> to <el-id>false</el-id> followed by an
    instruction to print the message 'Wrong!' (this is a temporary action - to be refined later).
    <div class="hint" id="hint9b">Hint: Abbreviated instructions for <el-method>playersTurn</el-method> procedure</div>
    <div class="content" id="hint9bcontent">
      <el-code-block>
        <el-proc class="ok multiline">
          <el-top><el-expand>+</el-expand><el-kw>procedure </el-kw><el-method>playersTurn</el-method>(<el-field class="optional ok"><el-txt><el-id>sequence</el-id> <el-kw>as</el-kw> <el-type>List</el-type>&lt;<el-kw>of</el-kw> <el-type>Int</el-type>&gt;, <el-id>interval</el-id> <el-kw>as</el-kw> <el-type>Int</el-type></el-txt></el-field>)</el-top>
          <el-statement><el-kw>variable </el-kw></el-statement>
          <el-statement><el-kw>variable </el-kw></el-statement>
          <el-statement class="ok multiline">
          <el-top><el-expand>+</el-expand><el-kw>while </el-kw></el-top>
          <el-statement><el-kw>let </el-kw></el-statement>
          <el-statement><el-kw>let </el-kw></el-statement>
          <el-statement class="ok multiline">
          <el-top><el-expand>+</el-expand><el-kw>if </el-kw></el-top>
          <el-statement><el-top><el-kw>call </el-kw></el-statement>
          <el-statement class="ok outdent"><el-top>
              <el-kw>else </el-kw><el-field class="empty optional ok"><el-txt></el-txt></el-field></el-top></el-statement>
          <el-statement><el-kw>set </el-kw></el-statement>
          <el-statement><el-kw>print </el-kw></el-statement>
          <el-kw>end if</el-kw>
          </el-statement>
          <el-statement><el-kw>set </el-kw></el-statement>
          <el-kw>end while</el-kw>
          </el-statement>
          <el-kw>end procedure</el-kw>
          </el-proc>
      </el-code-block>
    </div>
    <div class="hint" id="hint9c">Hint: Complete revised <el-method>playersTurn</el-method> procedure</div>
    <div class="content" id="hint9ccontent">
      <el-code-block>
        <el-proc class="ok multiline">
          <el-top><el-expand>+</el-expand><el-kw>procedure </el-kw><el-method>playersTurn</el-method>(<el-field class="optional ok"><el-txt><el-id>sequence</el-id> <el-kw>as</el-kw> <el-type>List</el-type>&lt;<el-kw>of</el-kw> <el-type>Int</el-type>&gt;, <el-id>interval</el-id> <el-kw>as</el-kw> <el-type>Int</el-type></el-txt></el-field>)</el-top>
          <el-statement><el-kw>variable </el-kw><el-field><el-txt><el-id>counter</el-id></el-txt></el-field><el-kw> set to </el-kw><el-field><el-txt><el-lit>0</el-lit></el-txt></el-field></el-statement>
          <el-statement><el-kw>variable </el-kw><el-field><el-txt><el-id>correctSoFar</el-id></el-txt></el-field><el-kw> set to </el-kw><el-field><el-txt><el-id>true</el-id></el-txt></el-field></el-statement>
          <el-statement class="ok multiline">
          <el-top><el-expand>+</el-expand><el-kw>while </el-kw><el-field><el-txt>(<el-id>counter</el-id> &lt; <el-id>sequence</el-id>.<el-method>length</el-method>())<el-kw> and </el-kw><el-id>correctSoFar</el-id></el-txt></el-field></el-top>
          <el-statement><el-kw>let </el-kw><el-field><el-txt><el-id>k</el-id></el-txt></el-field><el-kw> be </el-kw><el-field><el-txt><el-method>waitForKey</el-method>()</el-txt></el-field></el-statement>
          <el-statement><el-kw>let </el-kw><el-field><el-txt><el-id>valid</el-id>, <el-id>move</el-id></el-txt></el-field><el-kw> be </el-kw><el-field><el-txt><el-method>parseAsInt</el-method>(<el-id>k</el-id>)</el-txt></el-field></el-statement>
          <el-statement class="ok multiline">
          <el-top><el-expand>+</el-expand><el-kw>if </el-kw><el-field><el-txt><el-id>valid</el-id><el-kw> and </el-kw>(<el-id>sequence</el-id>[<el-id>counter</el-id>]<el-kw> is </el-kw><el-id>move</el-id>)</el-txt></el-field><el-kw> then</el-kw></el-top>
          <el-statement><el-top><el-kw>call </el-kw><el-field><el-txt><el-method>displayMove</el-method></el-txt></el-field>(<el-field class="optional ok"><el-txt><el-id>move</el-id>, <el-id>interval</el-id></el-txt></el-field>)</el-top></el-statement>
          <el-statement class="ok outdent"><el-top>
              <el-kw>else </el-kw><el-field class="empty optional ok"><el-txt></el-txt></el-field></el-top></el-statement>
          <el-statement><el-kw>set </el-kw><el-field><el-txt><el-id>correctSoFar</el-id></el-txt></el-field><el-kw> to </el-kw><el-field><el-txt><el-id>false</el-id></el-txt></el-field></el-statement>
          <el-statement><el-kw>print </el-kw><el-field class="optional ok"><el-txt>"<el-lit>Wrong!</el-lit>"</el-txt></el-field></el-statement>
          <el-kw>end if</el-kw>
          </el-statement>
          <el-statement><el-kw>set </el-kw><el-field><el-txt><el-id>counter</el-id></el-txt></el-field><el-kw> to </el-kw><el-field><el-txt><el-id>counter</el-id> + <el-lit>1</el-lit></el-txt></el-field></el-statement>
          <el-kw>end while</el-kw>
          </el-statement>
          <el-kw>end procedure</el-kw>
          </el-proc>
      </el-code-block>
    </div>
    <li>Run the program. You will have to be honest, and stop the program if you see the 'Wrong!' message. Also the game
      isn't at all polished yet, but the essence of the game should be working.
    </li>
    </ul>
    <label class="done" for="done9">Step completed</label>
  <input type="checkbox" class="step-complete" id="done9"/>
<span> Total hints used: <span class="hints-taken"></span>/<span class="hints-total"></span></span>
</div>

  <div class="step" id="step10">
    <h3>Iteration 10: Polishing the game</h3>
    <p>Three bits of polishing are urgent - but write down anything else you can think of:
      <ul>
        <li>If you make a mistake when mimicking the sequence the game should stop.</li>
        <li>There should be a more distinct pause between the end of your turn and Simon starting the next sequence.</li>
        <li>When the game is over it should tell you your 'score' - the length of the largest sequence you correctly reproduced.</li>
      </ul>
      So ...
      <ul>
        <li>As the last instructions within the <el-kw>for</el-kw> in <el-kw>main</el-kw>, add instructions to clear the vector graphics
        display and then to pause for two seconds. Run and test it.
        <div class="hint" id="hint10a">Hint: the two new instructions</div>
        <div class="content" id="hint10acontent">
          <el-code-block>
            <el-statement><el-top><el-kw>call </el-kw><el-field><el-txt><el-method>clearVectorGraphics</el-method></el-txt></el-field>(<el-field class="empty optional ok"><el-txt></el-txt></el-field>)</el-top></el-statement>
            <el-statement><el-top><el-kw>call </el-kw><el-field><el-txt><el-method>pause</el-method></el-txt></el-field>(<el-field class="optional ok"><el-txt><el-lit>2000</el-lit></el-txt></el-field>)</el-top></el-statement>
          </el-code-block>
        </div>
      </li>
        <li>At the start of main, define a variable named <el-id>ok</el-id> initially set to <el-id>true</el-id>.</li>
        <li>Replace the <el-kw>for</el-kw> loop in <el-kw>main</el-kw> with a <el-kw>while</el-kw> loop with a condition of <el-id>ok</el-id>,
          (you'll need to create the <el-kw>while</el-kw> loop first, then cut and paste the contents from the old loop into the new, then delete the former.)
          <div class="hint" id="hint10a1">Hint: Abbreviated instructions in <el-kw>main</el-kw></div>
          <div class="content" id="hint10a1content">
            <el-code-block>
              <main class="ok multiline" id="main1">
                <el-top><el-expand>+</el-expand><el-kw>main</el-kw></el-top>
                <el-statement><el-kw>variable </el-kw></el-statement>
                <el-statement><el-kw>variable </el-kw></el-statement>
                <el-statement><el-kw>let </el-kw></el-statement>
                <el-statement class="ok multiline">
                <el-top><el-expand>+</el-expand><el-kw>while </el-kw></el-top>
                <el-statement><el-kw>call </el-kw></el-statement>
                <el-statement><el-kw>call </el-kw></el-statement>
                <el-statement><el-kw>call </el-kw></el-statement>
                <el-statement><el-kw>call </el-kw></el-statement>
                <el-statement><el-kw>call </el-kw></el-statement>
                <el-statement><el-kw>call </el-kw></el-statement>
                <el-kw>end while</el-kw>
                </el-statement>
                <el-kw>end main</el-kw>
              </main>
            </el-code-block>
          </div>
          <div class="hint" id="hint10a2">Hint: The complete modified <el-kw>main</el-kw></div>
          <div class="content" id="hint10a2content">
            <el-code-block>
              <main class="ok multiline" id="main1">
                <el-top><el-expand>+</el-expand><el-kw>main</el-kw></el-top>
                <el-statement><el-kw>variable </el-kw><el-field><el-txt><el-id>ok</el-id></el-txt></el-field><el-kw> set to </el-kw><el-field><el-txt><el-id>true</el-id></el-txt></el-field></el-statement>
                <el-statement><el-kw>variable </el-kw><el-field><el-txt><el-id>interval</el-id></el-txt></el-field><el-kw> set to </el-kw><el-field><el-txt><el-lit>1000</el-lit></el-txt></el-field></el-statement>
                <el-statement><el-kw>let </el-kw><el-field><el-txt><el-id>sequence</el-id></el-txt></el-field><el-kw> be </el-kw><el-field><el-txt><el-kw>empty</el-kw> <el-type>List</el-type>&lt;<el-kw>of</el-kw> <el-type>Int</el-type>&gt;</el-txt></el-field></el-statement>
                <el-statement class="ok multiline">
                <el-top><el-expand>+</el-expand><el-kw>while </el-kw><el-field><el-txt><el-id>ok</el-id></el-txt></el-field></el-top>
                <el-statement><el-top><el-kw>call </el-kw><el-field><el-txt><el-method>simonsTurn</el-method></el-txt></el-field>(<el-field class="optional ok"><el-txt><el-id>sequence</el-id>, <el-id>interval</el-id></el-txt></el-field>)</el-top></el-statement>
                <el-statement><el-top><el-kw>call </el-kw><el-field><el-txt><el-method>clearVectorGraphics</el-method></el-txt></el-field>(<el-field class="empty optional ok"><el-txt></el-txt></el-field>)</el-top></el-statement>
                <el-statement><el-top><el-kw>call </el-kw><el-field><el-txt><el-method>pause</el-method></el-txt></el-field>(<el-field class="optional ok"><el-txt><el-lit>1000</el-lit></el-txt></el-field>)</el-top></el-statement>
                <el-statement><el-top><el-kw>call </el-kw><el-field><el-txt><el-method>playersTurn</el-method></el-txt></el-field>(<el-field class="optional ok"><el-txt><el-id>sequence</el-id>, <el-id>interval</el-id></el-txt></el-field>)</el-top></el-statement>
                <el-statement><el-top><el-kw>call </el-kw><el-field><el-txt><el-method>clearVectorGraphics</el-method></el-txt></el-field>(<el-field class="empty optional ok"><el-txt></el-txt></el-field>)</el-top></el-statement>
                <el-statement><el-top><el-kw>call </el-kw><el-field><el-txt><el-method>clearVectorGraphics</el-method></el-txt></el-field>(<el-field class="empty optional ok"><el-txt></el-txt></el-field>)</el-top></el-statement>
                <el-statement><el-top><el-kw>call </el-kw><el-field><el-txt><el-method>pause</el-method></el-txt></el-field>(<el-field class="optional ok"><el-txt><el-lit>2000</el-lit></el-txt></el-field>)</el-top></el-statement>
                <el-kw>end while</el-kw>
                </el-statement>
                <el-kw>end main</el-kw>
              </main>
            </el-code-block>
          </div>
        </li>
        <li>Go to the definition of the <el-method>playersTurn</el-method> procedure, and add a third parameter definition
        like this:
        <el-code-block>
          <el-kw>out </el-kw><el-id>ok</el-id><el-kw> as </el-kw><el-type>Boolean</el-type>
        </el-code-block>
        Adding the keyword <el-kw>out</el-kw> in front of a parameter definition means that, within the procedure
        you can assign a new value to that name (just as if it was a variable) and this change will be visible
        to the code that <i>calls</i> the procedure. This will become clearer, shortly. This change will
        give you a compile error in the call to <el-method>playersTurn</el-method> within <el-kw>main</el-kw>. So, in that call,
        add <el-id>ok</el-id> (the local variable you defined there) as the third argument.
        <div class="hint" id="hint10b">Hint: the revised procedure first line</div>
        <div class="content" id="hint10bcontent">
          <el-code-block>
            <el-proc class="ok multiline">
              <el-top><el-expand>+</el-expand><el-kw>procedure </el-kw><el-method><el-field><el-txt>playersTurn</el-txt></el-field></el-method>(<el-field class="optional ok"><el-txt><el-id>sequence</el-id> <el-kw>as</el-kw> <el-type>List</el-type>&lt;<el-kw>of</el-kw> <el-type>Int</el-type>&gt;, <el-id>interval</el-id> <el-kw>as</el-kw> <el-type>Int</el-type>, <el-kw>out</el-kw> <el-id>ok</el-id> <el-kw>as</el-kw> <el-type>Boolean</el-type></el-txt></el-field>)</el-top>
          </el-code-block>
        </div>
        </li>
        <li>Within the <el-method>playersTurn</el-method> procedure, delete the instruction <el-code><el-kw>print</el-kw> "<el-lit>Wrong!</el-lit>"</el-code> and
        replace it with one that sets the value of <el-id>ok</el-id> to false.
        <div class="hint" id="hint10b2">Hint: the whole revised procedure</div>
        <div class="content" id="hint10b2content">
        <el-code-block>
          <el-proc class="ok multiline">
            <el-top><el-expand>+</el-expand><el-kw>procedure </el-kw><el-method>playersTurn</el-method>(<el-field class="optional ok"><el-txt><el-id>sequence</el-id> <el-kw>as</el-kw> <el-type>List</el-type>&lt;<el-kw>of</el-kw> <el-type>Int</el-type>&gt;, <el-id>interval</el-id> <el-kw>as</el-kw> <el-type>Int</el-type>, <el-kw>out</el-kw> <el-id>ok</el-id> <el-kw>as</el-kw> <el-type>Boolean</el-type></el-txt></el-field>)</el-top>
            <el-statement><el-kw>variable </el-kw><el-field><el-txt><el-id>counter</el-id></el-txt></el-field><el-kw> set to </el-kw><el-field><el-txt><el-lit>0</el-lit></el-txt></el-field></el-statement>
            <el-statement><el-kw>variable </el-kw><el-field><el-txt><el-id>correctSoFar</el-id></el-txt></el-field><el-kw> set to </el-kw><el-field><el-txt><el-id>true</el-id></el-txt></el-field></el-statement>
            <el-statement class="ok multiline">
            <el-top><el-expand>+</el-expand><el-kw>while </el-kw><el-field><el-txt>(<el-id>counter</el-id> &lt; <el-id>sequence</el-id>.<el-method>length</el-method>())<el-kw> and </el-kw><el-id>correctSoFar</el-id></el-txt></el-field></el-top>
            <el-statement><el-kw>let </el-kw><el-field><el-txt><el-id>k</el-id></el-txt></el-field><el-kw> be </el-kw><el-field><el-txt><el-method>waitForKey</el-method>()</el-txt></el-field></el-statement>
            <el-statement><el-kw>let </el-kw><el-field><el-txt><el-id>valid</el-id>, <el-id>move</el-id></el-txt></el-field><el-kw> be </el-kw><el-field><el-txt><el-method>parseAsInt</el-method>(<el-id>k</el-id>)</el-txt></el-field></el-statement>
            <el-statement class="ok multiline">
            <el-top><el-expand>+</el-expand><el-kw>if </el-kw><el-field><el-txt><el-id>valid</el-id><el-kw> and </el-kw>(<el-id>sequence</el-id>[<el-id>counter</el-id>]<el-kw> is </el-kw><el-id>move</el-id>)</el-txt></el-field><el-kw> then</el-kw></el-top>
            <el-statement><el-top><el-kw>call </el-kw><el-field><el-txt><el-method>displayMove</el-method></el-txt></el-field>(<el-field class="optional ok"><el-txt><el-id>move</el-id>, <el-id>interval</el-id></el-txt></el-field>)</el-top></el-statement>
            <el-statement class="ok outdent"><el-top>
                <el-kw>else </el-kw><el-field class="empty optional ok"><el-txt></el-txt></el-field></el-top></el-statement>
            <el-statement><el-kw>set </el-kw><el-field><el-txt><el-id>correctSoFar</el-id></el-txt></el-field><el-kw> to </el-kw><el-field><el-txt><el-id>false</el-id></el-txt></el-field></el-statement>
            <el-statement><el-kw>set </el-kw><el-field><el-txt><el-id>ok</el-id></el-txt></el-field><el-kw> to </el-kw><el-field><el-txt><el-id>false</el-id></el-txt></el-field></el-statement>
            <el-kw>end if</el-kw>
            </el-statement>
            <el-statement><el-kw>set </el-kw><el-field><el-txt><el-id>counter</el-id></el-txt></el-field><el-kw> to </el-kw><el-field><el-txt><el-id>counter</el-id> + <el-lit>1</el-lit></el-txt></el-field></el-statement>
            <el-kw>end while</el-kw>
            </el-statement>
            <el-kw>end procedure</el-kw>
            </el-proc>
          </el-code-block>
        </div>
        </li>
        <li>Within <el-kw>main</el-kw> add a new instruction <i>after</i> <el-kw>end while</el-kw> to print a message that
        says, for example <b>Game over! You scored: 10</b> but instead of literally 10 make it print the length
        of the sequence minus 1. Why 'minus 1'?
        <input type="text" id="input10">
        <div class="hint" id="hint10d">Hint: The complete <el-kw>print</el-kw> instruction</div>
        <div class="content" id="hint10bcontent">
          <el-code-block>
            <el-statement><el-kw>print </el-kw><el-field class="optional ok"><el-txt>"<el-lit>Game over! You scored: </el-lit>{<el-id>sequence</el-id>.<el-method>length</el-method>() - <el-lit>1</el-lit>}<el-lit></el-lit>"</el-txt></el-field></el-statement>
          </el-code-block>
        </div>
      </li>
      <li>Run the program and test that it now seems <i>a little</i> more polished.</li>
      </ul>

      <label class="done" for="done10">Step completed</label>
    <input type="checkbox" class="step-complete" id="done10"/>
<span> Total hints used: <span class="hints-taken"></span>/<span class="hints-total"></span></span>
</div>

  <div class="step" id="step11">
    You have completed the worksheet. Well done!

    If you have time try to make the following refinement, or think of some of your own:

    <ul>
      <li>Trim the time delays and starting <el-id>interval</el-id> so that the game flows nicely.</li>
      <li>With each turn of the game (i.e. each extension of the sequence) <i>slightly</i>
      reduce the size of the <el-id>interval</el-id> (e.g. by 25 milliseconds) so that the playing
      of the sequence gradually speeds up.
    </li>
    </ul>

    <div class="license">
      <img decoding="async" loading="lazy" src="https://mirrors.creativecommons.org/presskit/buttons/88x31/png/by-nc-nd.png" width="118" height="41">
      This worksheet is copyright &copy; Richard Pawson 2025, and protected by the Creative Commons license:
          <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank"> Attribution-NonCommercial-NoDerivatives 4.0 International</a>.
        If you copy and <i>modify</i> this worksheet you may not distribute your modified version (outside your own teaching institution) without the author's permission.
        Please <a href="mailto:rpawson@nakedobjects.org" target="_blank">email the author</a> to report errors or suggest improvements.
    </div>

    <div hidden=""></div>
    <div hidden=""></div>
  </div>
</div>

<script src="../../../out/website/worksheet-scripts.js"></script>
</body>
</html>
